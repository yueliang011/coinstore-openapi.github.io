
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Coin8官方API文档</title>
    <link href="../images/favicon-ab07c47e.ico" rel="icon" type="image/ico">
    <style media="screen">
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cpf {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s, .highlight .sa, .highlight .dl {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf, .highlight .fm {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv, .highlight .vm {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .nl {
  color: #f92672;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <style media="print">
      * {
        -webkit-transition:none!important;
        transition:none!important;
      }
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #586e75;
}
.highlight .err {
  color: #002b36;
  background-color: #dc322f;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cm, .highlight .cpf, .highlight .c1, .highlight .cs {
  color: #657b83;
}
.highlight .cp {
  color: #b58900;
}
.highlight .nt {
  color: #b58900;
}
.highlight .o, .highlight .ow {
  color: #93a1a1;
}
.highlight .p, .highlight .pi {
  color: #93a1a1;
}
.highlight .gi {
  color: #859900;
}
.highlight .gd {
  color: #dc322f;
}
.highlight .gh {
  color: #268bd2;
  background-color: #002b36;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #6c71c4;
}
.highlight .kc {
  color: #cb4b16;
}
.highlight .kt {
  color: #cb4b16;
}
.highlight .kd {
  color: #cb4b16;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .dl, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #859900;
}
.highlight .sa {
  color: #6c71c4;
}
.highlight .sr {
  color: #2aa198;
}
.highlight .si {
  color: #d33682;
}
.highlight .se {
  color: #d33682;
}
.highlight .nn {
  color: #b58900;
}
.highlight .nc {
  color: #b58900;
}
.highlight .no {
  color: #b58900;
}
.highlight .na {
  color: #268bd2;
}
.highlight .m, .highlight .mb, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mx {
  color: #859900;
}
.highlight .ss {
  color: #859900;
}
    </style>
    <link href="../stylesheets/screen-3bdfd5ec.css" rel="stylesheet" media="screen" />
    <link href="../stylesheets/print-1afa28ad.css" rel="stylesheet" media="print" />
      <script src="../javascripts/all-1decc47a.js"></script>

    <script>
      $(function() { setupCodeCopy(); });
    </script>
  </head>

  <body class="cn cn_index" data-languages="[]">
    <div class="header">
      <img src="../images/logo-05168e93.png" class="logo" alt="" />
      <div class="tabs">
        <ul>
          <li class="active">
              <a href="index.html">
                现货
              </a>
          </li>
          <li class="">
            <a href="futures.html">
              永续合约
            </a>
          </li>
        </ul>
      </div>
      <div class="lang">
        <span>简体中文</span>
        <img src="../images/down-c11a96e5.png" class="down" alt="" />
        <ul class="lang-list">
         <li class="active">
            <a href="/cn">
              简体中文
            </a>
         </li>
         <li class="">
            <a href="/en">
              English
            </a>
         </li>
        </ul>
      </div>
    </div>
    <a href="#" id="nav-button">
      <span>
        <img src="../images/navbar-cad8cdcb.png" alt="" />
      </span>
    </a>
    <div class="toc-wrapper">
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="搜索">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#45fa4e00db" class="toc-h1 toc-link" data-title="介绍">介绍</a>
          </li>
          <li>
            <a href="#9e033de16f" class="toc-h1 toc-link" data-title="快速开始">快速开始</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#apikey" class="toc-h2 toc-link" data-title="创建APIkey">创建APIkey</a>
                  </li>
                  <li>
                    <a href="#5076603a3e" class="toc-h2 toc-link" data-title="接口类型">接口类型</a>
                  </li>
                  <li>
                    <a href="#urls" class="toc-h2 toc-link" data-title="接入URLs">接入URLs</a>
                  </li>
                  <li>
                    <a href="#c1fd2fc5ac" class="toc-h2 toc-link" data-title="限频规则">限频规则</a>
                  </li>
                  <li>
                    <a href="#586f3bcbf4" class="toc-h2 toc-link" data-title="签名认证"><span id="a4">签名认证</span></a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#api" class="toc-h1 toc-link" data-title="API接入说明">API接入说明</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#5b7654a66a" class="toc-h2 toc-link" data-title="请求格式"><span id="a3">请求格式</span></a>
                  </li>
                  <li>
                    <a href="#3ee119c599" class="toc-h2 toc-link" data-title="返回格式"><span id="a3">返回格式</span></a>
                  </li>
                  <li>
                    <a href="#a38a81c9d5" class="toc-h2 toc-link" data-title="错误信息">错误信息</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#41654e0268" class="toc-h1 toc-link" data-title="基础信息">基础信息</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#c4a4258fff" class="toc-h2 toc-link" data-title="现货币种币对信息"><span id="1">现货币种币对信息</span></a>
                  </li>
                  <li>
                    <a href="#be59f6dd3c" class="toc-h2 toc-link" data-title="查询币种信息"><span id="1">查询币种信息</span></a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#2a0d0be224" class="toc-h1 toc-link" data-title="账户相关">账户相关</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#7c2f2901d7" class="toc-h2 toc-link" data-title="资产余额"><span id="1">资产余额</span></a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#6631e26181" class="toc-h1 toc-link" data-title="资金相关">资金相关</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#e7cabbfe4f" class="toc-h2 toc-link" data-title="获取充币地址"><span id="2">获取充币地址</span></a>
                  </li>
                  <li>
                    <a href="#cd7b39e343" class="toc-h2 toc-link" data-title="获取充币记录"><span id="2">获取充币记录</span></a>
                  </li>
                  <li>
                    <a href="#b55ecd1ce8" class="toc-h2 toc-link" data-title="获取提币记录"><span id="2">获取提币记录</span></a>
                  </li>
                  <li>
                    <a href="#1ec50bd5c6" class="toc-h2 toc-link" data-title="提币"><span id="2">提币</span></a>
                  </li>
                  <li>
                    <a href="#c6ca5cfc45" class="toc-h2 toc-link" data-title="撤销提币"><span id="2">撤销提币</span></a>
                  </li>
                  <li>
                    <a href="#d9b723aa93" class="toc-h2 toc-link" data-title="划转资产"><span id="2">划转资产</span></a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#96a5882bf8" class="toc-h1 toc-link" data-title="订单相关">订单相关</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#2152241f96" class="toc-h2 toc-link" data-title="获取当前订单"><span id="2">获取当前订单</span></a>
                  </li>
                  <li>
                    <a href="#v2" class="toc-h2 toc-link" data-title="获取当前订单V2"><span id="3">获取当前订单V2</span></a>
                  </li>
                  <li>
                    <a href="#8b3c19df49" class="toc-h2 toc-link" data-title="获取用户最新成交"><span id="3">获取用户最新成交</span></a>
                  </li>
                  <li>
                    <a href="#debd6c0464" class="toc-h2 toc-link" data-title="取消委托单"><span id="4">取消委托单</span></a>
                  </li>
                  <li>
                    <a href="#caef340d80" class="toc-h2 toc-link" data-title="一键撤单"><span id="5">一键撤单</span></a>
                  </li>
                  <li>
                    <a href="#df83685cc8" class="toc-h2 toc-link" data-title="创建订单"><span id="6">创建订单</span></a>
                  </li>
                  <li>
                    <a href="#77aaf08979" class="toc-h2 toc-link" data-title="批量下单"><span id="13">批量下单</span></a>
                  </li>
                  <li>
                    <a href="#id" class="toc-h2 toc-link" data-title="根据订单id批量进行撤单"><span id="27">根据订单id批量进行撤单</span></a>
                  </li>
                  <li>
                    <a href="#8b5706bd64" class="toc-h2 toc-link" data-title="获取订单信息"><span id="14">获取订单信息</span></a>
                  </li>
                  <li>
                    <a href="#v2-2" class="toc-h2 toc-link" data-title="获取订单信息V2"><span id="15">获取订单信息V2</span></a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#43ee760de5" class="toc-h1 toc-link" data-title="行情相关">行情相关</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#ticker" class="toc-h2 toc-link" data-title="Ticker"><span id="7">Ticker</span></a>
                  </li>
                  <li>
                    <a href="#cf51bf082d" class="toc-h2 toc-link" data-title="获取深度"><span id="7">获取深度</span></a>
                  </li>
                  <li>
                    <a href="#k" class="toc-h2 toc-link" data-title="获取K线"><span id="7">获取K线</span></a>
                  </li>
                  <li>
                    <a href="#586cd0d257" class="toc-h2 toc-link" data-title="最新成交"><span id="7">最新成交</span></a>
                  </li>
                  <li>
                    <a href="#1a3223149b" class="toc-h2 toc-link" data-title="获取所有交易对最新价格"><span id="7">获取所有交易对最新价格</span></a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#websocket" class="toc-h1 toc-link" data-title="Websocket行情数据">Websocket行情数据</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#36d1a17821" class="toc-h2 toc-link" data-title="简介"><strong>简介</strong></a>
                  </li>
                  <li>
                    <a href="#61d816b5c6" class="toc-h2 toc-link" data-title="实时订阅/取消数据流"><strong>实时订阅/取消数据流</strong></a>
                  </li>
                  <li>
                    <a href="#04e6f7872c" class="toc-h2 toc-link" data-title="逐笔交易"><strong>逐笔交易</strong></a>
                  </li>
                  <li>
                    <a href="#k-streams" class="toc-h2 toc-link" data-title="K线 Streams"><strong>K线 Streams</strong></a>
                  </li>
                  <li>
                    <a href="#k-request" class="toc-h2 toc-link" data-title="K线 Request"><strong>K线 Request</strong></a>
                  </li>
                  <li>
                    <a href="#symbol-ticker" class="toc-h2 toc-link" data-title="按 Symbol 的 Ticker信息"><strong>按 Symbol 的 Ticker信息</strong></a>
                  </li>
                  <li>
                    <a href="#b98f66bf84" class="toc-h2 toc-link" data-title="深度信息"><strong>深度信息</strong></a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#e08c1d4f9a" class="toc-h1 toc-link" data-title="错误码">错误码</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#33c0874e49" class="toc-h2 toc-link" data-title="错误码:">错误码:</a>
                  </li>
                  <li>
                    <a href="#42702c21cd" class="toc-h2 toc-link" data-title="字典"><strong>字典</strong></a>
                  </li>
              </ul>
          </li>
        <li class="create_api"><a target="_blank" href="https://www.coinstore.com/#/user/bindAuth/ManagementAPI">创建 API Key</a></li>
      </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='45fa4e00db'>介绍</h1>
<p>欢迎使用Coinstore开发者文档，此文档是Coinstore API的唯一官方文档。</p>

<p>本文档提供了相关API的使用方法介绍。</p>

<p>RESTful API包含了资产，订单及行情等接口。</p>

<p>Websocket则提供了行情相关的接口及推送服务。</p>

<p>Coinstore API提供的服务会在此持续更新，请大家及时关注。</p>
<h1 id='9e033de16f'>快速开始</h1><h2 id='apikey'>创建APIkey</h2>
<p>如需使用API，请先登录网页端，通过【用户中心】-【API管理】创建一个API key，再据此文档详情进行开发和交易。</p>

<p>每个用户可创建5组API Key，每组API key可以绑定5个不同的IP地址。API key一旦绑定了IP地址，则只能从绑定的IP地址使用该API key调用API接口。出于安全考虑，强烈建议您为API key绑定相应的IP地址。</p>

<p>创建成功后请务必记住以下信息：</p>

<ul>
<li><code>API Key</code>  API 访问密钥</li>
<li><code>Secret Key</code> 签名认证加密所使用的密钥</li>
</ul>
<h2 id='5076603a3e'>接口类型</h2>
<p>Coinstore为用户提供两种接口，您可根据自己的使用场景和偏好来选择适合的方式进行查询行情、交易。</p>

<p><strong>REST API</strong></p>

<p>REST，即Representational State Transfer的缩写，是一种流行的互联网传输架构。它具有结构清晰、符合标准、易于理解、扩展方便的，正得到越来越多网站的采用。其优点如右：</p>

<ul>
<li>在RESTful架构中，每一个URL代表一种资源；</li>
<li>客户端和服务器之间，传递这种资源的某种表现层；</li>
<li>客户端通过四个HTTP指令，对服务器端资源进行操作，实现“表现层状态转化”。 </li>
</ul>

<p>交易或资产等一次性操作，建议开发者使用REST API进行操作</p>

<p><strong>WebSocket API</strong></p>

<p>WebSocket是HTML5一种新的协议（Protocol）。它实现了客户端与服务器全双工通信，通过一次简单的握手就可以建立客户端和服务器连接，服务器可以根据业务规则主动推送信息给客户端。</p>

<p>市场行情和买卖深度等信息，建议开发者使用WebSocket API进行获取。</p>
<h3 id='2ac5e3c5f6'>接口鉴权</h3>
<p>以上两种接口均包含公共接口和私有接口两种类型。</p>

<p>公共接口可用于获取基础信息和行情数据。公共接口无需认证即可调用。</p>

<p>私有接口可用于交易管理。每个私有请求必须使用您的API Key进行签名验证。</p>
<h2 id='urls'>接入URLs</h2>
<p><strong>REST API</strong></p>

<p><code>https://api.coinstore.com/api</code></p>

<p><strong>WebSocket</strong></p>

<p><code>wss://ws.coinstore.com/s/ws</code></p>

<p>为保证API服务的稳定性，建议使用日本AWS云服务器进行访问。如使用中国大陆境内的客户端服务器，连接的稳定性将难以保证。</p>
<h2 id='c1fd2fc5ac'>限频规则</h2>
<p><strong>相同ip</strong></p>

<p><code>相同ip每3秒最多300个请求</code></p>

<p><strong>每个用户</strong></p>

<p><code>相同用户3秒最多120个请求</code></p>
<h2 id='586f3bcbf4'><span id="a4">签名认证</span></h2>
<p><strong>签名说明</strong></p>

<p>API 请求在通过 internet 传输的过程中极有可能被篡改，为了确保请求未被更改，除公共接口（基础信息，行情数据）外的私有接口均必须使用您的 API Key 做签名认证，以校验参数或参数值在传输途中是否发生了更改。</p>

<p><strong>签名算法</strong></p>

<p>使用HmacSHA256哈希函数作为签名函数
<code>
Mac hmacSha256 = Mac.getInstance(&quot;HmacSHA256&quot;);
</code></p>

<p><strong>签名步骤</strong></p>

<p>1、签名有效字符串为请求参数和请求体
注意：请求参数和请求体不进行任何排序，直接拼接成字符串作为payload。</p>
<div class="highlight"><pre class="highlight java tab-java"><code> <span class="nc">String</span> <span class="n">payload</span> <span class="o">=</span> <span class="err">“</span><span class="n">symbol</span><span class="o">=</span><span class="n">aaaa88</span><span class="o">&amp;</span><span class="n">size</span><span class="o">=</span><span class="mi">10</span><span class="err">”；</span>
</code></pre></div>
<p>实例1：GET请求查询字符串</p>

<p>?symbol=aaaa88&amp;size=10</p>
<div class="highlight"><pre class="highlight java tab-java"><code> <span class="nc">String</span> <span class="n">payload</span> <span class="o">=</span> <span class="err">“</span><span class="o">{</span><span class="s">"symbol"</span><span class="o">:</span><span class="s">"aaaa88"</span><span class="o">,</span><span class="s">"side"</span><span class="o">:</span><span class="s">"SELL"</span><span class="o">,</span><span class="s">"ordType"</span><span class="o">:</span><span class="s">"LIMIT"</span><span class="o">,</span><span class="s">"ordPrice"</span><span class="o">:</span><span class="mi">2</span><span class="o">,</span><span class="s">"ordQty"</span><span class="o">:</span><span class="mi">1</span><span class="o">,</span>
 <span class="s">"timestamp"</span><span class="o">:</span><span class="mi">1627384801051</span><span class="o">}</span><span class="err">”；</span>
</code></pre></div>
<p>实例2 :Post请求体</p>

<p>{&quot;symbol&quot;:&quot;aaaa88&quot;,&quot;side&quot;:&quot;SELL&quot;,&quot;ordType&quot;:&quot;LIMIT&quot;,&quot;ordPrice&quot;:2,&quot;ordQty&quot;:1,&quot;timestamp&quot;:1627384801051}</p>
<div class="highlight"><pre class="highlight java tab-java"><code> <span class="nc">String</span> <span class="n">payload</span> <span class="o">=</span> <span class="err">“</span><span class="n">symbol</span><span class="o">=</span><span class="n">aaaa88</span><span class="o">&amp;</span><span class="n">size</span><span class="o">=</span><span class="mi">10</span><span class="o">{</span><span class="s">"symbol"</span><span class="o">:</span><span class="s">"aaaa88"</span><span class="o">,</span><span class="s">"side"</span><span class="o">:</span><span class="s">"SELL"</span><span class="o">,</span><span class="s">"ordType"</span><span class="o">:</span><span class="s">"LIMIT"</span><span class="o">,</span><span class="s">"ordPrice"</span><span class="o">:</span><span class="mi">2</span><span class="o">,</span><span class="s">"ordQty"</span><span class="o">:</span><span class="mi">1</span><span class="o">,</span>
 <span class="s">"timestamp"</span><span class="o">:</span><span class="mi">1627384801051</span><span class="o">}</span><span class="err">”；</span>
</code></pre></div>
<p>实例3：混合请求</p>

<p>?symbol=aaaa88&amp;size=10
 {&quot;symbol&quot;:&quot;aaaa88&quot;,&quot;side&quot;:&quot;SELL&quot;,&quot;ordType&quot;:&quot;LIMIT&quot;,&quot;ordPrice&quot;:2,&quot;ordQty&quot;:1,&quot;timestamp&quot;:1627384801051}</p>
<div class="highlight"><pre class="highlight java tab-java"><code> <span class="nc">String</span> <span class="n">time</span> <span class="o">=</span> <span class="nc">String</span><span class="o">.</span><span class="na">valueOf</span><span class="o">(</span><span class="no">X</span><span class="o">-</span><span class="no">CS</span><span class="o">-</span><span class="no">EXPIRES</span> <span class="o">/</span> <span class="mi">30000</span><span class="o">);</span>
 <span class="n">hmacSha256</span><span class="o">.</span><span class="na">init</span><span class="o">(</span><span class="k">new</span> <span class="nc">SecretKeySpec</span><span class="o">(</span><span class="n">Secret_Key</span><span class="o">.</span><span class="na">getBytes</span><span class="o">(),</span> <span class="s">"HmacSHA256"</span><span class="o">));</span>
 <span class="kt">byte</span><span class="o">[]</span> <span class="n">hash</span> <span class="o">=</span> <span class="n">hmacSha256</span><span class="o">.</span><span class="na">doFinal</span><span class="o">(</span><span class="n">time</span><span class="o">.</span><span class="na">getBytes</span><span class="o">());</span>
 <span class="nc">String</span> <span class="n">key</span> <span class="o">=</span> <span class="nc">Hex</span><span class="o">.</span><span class="na">toHexString</span><span class="o">(</span><span class="n">hash</span><span class="o">);</span>
</code></pre></div>
<p>2、使用签名函数对时间戳计算哈希值</p>

<blockquote>
<p>注意： X-CS-EXPIRES为13位时间戳，需要除以30000获取一个类时间戳，对其进行签名函数计算，获得函数值作为第三步的秘钥(第3步中的变量key的值）</p>
</blockquote>
<div class="highlight"><pre class="highlight java tab-java"><code> <span class="n">hmacSha256</span><span class="o">.</span><span class="na">reset</span><span class="o">();</span>
 <span class="n">hmacSha256</span><span class="o">.</span><span class="na">init</span><span class="o">(</span><span class="k">new</span> <span class="nc">SecretKeySpec</span><span class="o">(</span><span class="n">key</span><span class="o">.</span><span class="na">getBytes</span><span class="o">(),</span> <span class="s">"HmacSHA256"</span><span class="o">));</span>
 <span class="n">hash</span> <span class="o">=</span> <span class="n">hmacSha256</span><span class="o">.</span><span class="na">doFinal</span><span class="o">(</span><span class="n">payload</span><span class="o">.</span><span class="na">getBytes</span><span class="o">());</span>
 <span class="nc">String</span> <span class="n">sign</span><span class="o">=</span> <span class="nc">Hex</span><span class="o">.</span><span class="na">toHexString</span><span class="o">(</span><span class="n">hash</span><span class="o">);</span>
</code></pre></div>
<p>3、使用签名函数对有效字符串计算哈希值</p>

<blockquote>
<p>注意： key的值为第2步计算出来的哈希值。</p>
</blockquote>

<p><strong>Python示例</strong></p>

<p>https://coinstore-sg-encryption.s3.ap-southeast-1.amazonaws.com/filesUpload/ex1/public/coinstore.py</p>

<p><code>推荐python sdk使用3.9版本，使用如果版本低于3.9版本，可能会造成兼容性或者签名计算有误的情况。</code></p>
<h1 id='api'>API接入说明</h1><h2 id='5b7654a66a'><span id="a3">请求格式</span></h2>
<p>所有的API请求都是restful，目前只有两种方法：GET和POST。
- GET请求：所有的参数都在路径参数里
- POST请求: 路径里可以设置参数，参数可以以JSON格式发送在请求主体（body）里，没有参数的需要传{}</p>

<p>一个合法的请求由以下几部分组成：
- 方法请求地址：即访问服务器地址api.coinstore.com，比如https://api.coinstore.com/api/trade/order/place
- 必须和可选参数。
- X-CS-APIKEY： 即用户申请的API Key。
- X-CS-EXPIRES：您发出请求的时间戳。如：1629291143107。
- X-CS-SIGN：签名计算得出的字符串，用于确保签名有效和未被篡改。</p>

<p><strong>注意：X-CS-APIKEY ，X-CS-EXPIRES ，X-CS-SIGN 三个参数都在请求头中，另外需要设置&#39;Content-Type&#39;:&#39;application/json&#39;。</strong></p>
<h2 id='3ee119c599'><span id="a3">返回格式</span></h2>
<p>所有的接口返回都是JSON格式。在JSON的第一层有3个字段code，msg和data。前两个字段表示请求状态和描述，实际的业务数据在data字段里。</p>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"suc"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">per</span><span class="w"> </span><span class="err">API</span><span class="w"> </span><span class="err">response</span><span class="w"> </span><span class="err">data</span><span class="w"> </span><span class="err">in</span><span class="w"> </span><span class="err">nested</span><span class="w"> </span><span class="err">JSON</span><span class="w"> </span><span class="err">object</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>以下是一个返回格式的样例：</p>

<table><thead>
<tr>
<th>字段</th>
<th>数据类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>int</td>
<td>返回状态</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>状态或错误描述</td>
</tr>
<tr>
<td>data</td>
<td>object</td>
<td>业务数据</td>
</tr>
</tbody></table>
<h2 id='a38a81c9d5'>错误信息</h2>
<p><strong>HTTP状态码</strong></p>

<p>HTTP常见的错误码如下：
- 400 Bad Request – Invalid request forma 请求格式无效</p>

<ul>
<li><p>401 signature failed – Invalid API Key 无效的API Key</p></li>
<li><p>404 service not found 没有找到请求</p></li>
<li><p>429 too many visits 请求太频繁被系统限流</p></li>
<li><p>500 internal server error – 服务器内部错误</p></li>
</ul>

<p><strong>业务状态码</strong></p>

<p>如果失败，response message 带有错误描述信息, 对应的状态码描述如下：</p>

<table><thead>
<tr>
<th>状态码</th>
<th>说明</th>
<th>备注</th>
</tr>
</thead><tbody>
<tr>
<td>0</td>
<td>成功</td>
<td>code=0 成功， code &gt;0 失败</td>
</tr>
</tbody></table>
<h1 id='41654e0268'>基础信息</h1><h2 id='c4a4258fff'><span id="1">现货币种币对信息</span></h2>
<p>获取现货币种币对信息</p>
<h3 id='http'>HTTP请求:</h3>
<ul>
<li>POST /v2/public/config/spot/symbols</li>
</ul>
<h3 id='1f9ac54b15'>请求参数</h3>
<table><thead>
<tr>
<th>param</th>
<th>type</th>
<th>required</th>
<th>comment</th>
</tr>
</thead><tbody>
<tr>
<td>symbolCodes</td>
<td>数组</td>
<td>非必需</td>
<td>币对Code</td>
</tr>
<tr>
<td>symbolIds</td>
<td>数组</td>
<td>非必需</td>
<td>币对ID</td>
</tr>
</tbody></table>

<blockquote>
<p>请求</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"symbolCodes"</span><span class="p">:[</span><span class="s2">"BTCUSDT"</span><span class="p">],</span><span class="w">
  </span><span class="nl">"symbolIds"</span><span class="p">:[</span><span class="mi">10</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='2213f4c32f'>响应数据</h3>
<table><thead>
<tr>
<th>code</th>
<th>type</th>
<th>comment</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>int</td>
<td>0：成功，其他失败</td>
</tr>
<tr>
<td>message</td>
<td>String</td>
<td>错误信息</td>
</tr>
<tr>
<td>data</td>
<td>Object []</td>
<td>业务数据</td>
</tr>
<tr>
<td>- symbolId</td>
<td>Long</td>
<td>币对ID</td>
</tr>
<tr>
<td>- symbolCode</td>
<td>String</td>
<td>币对Code</td>
</tr>
<tr>
<td>- tradeCurrencyCode</td>
<td>String</td>
<td>交易货币币种</td>
</tr>
<tr>
<td>- quoteCurrencyCode</td>
<td>String</td>
<td>计价货币币种</td>
</tr>
<tr>
<td>- openTrade</td>
<td>boolean</td>
<td>是否开放交易：true是，false否</td>
</tr>
<tr>
<td>- onLineTime</td>
<td>Long</td>
<td>上线日期：Unix时间戳的毫秒数格式，如 1597026383085</td>
</tr>
<tr>
<td>- tickSz</td>
<td>Integer</td>
<td>下单价格精度（tickSz）</td>
</tr>
<tr>
<td>- lotSz</td>
<td>Integer</td>
<td>下单数量精度（lotSz）</td>
</tr>
<tr>
<td>- minLmtPr</td>
<td>String</td>
<td>限价最小交易最小价（minLmtPr）</td>
</tr>
<tr>
<td>- minLmtSz</td>
<td>String</td>
<td>限价最小交易数量（minLmtSz）</td>
</tr>
<tr>
<td>- minMktVa</td>
<td>String</td>
<td>市价最小交易最小额（minMktVa）</td>
</tr>
<tr>
<td>- minMktSz</td>
<td>String</td>
<td>市价最小交易数量（minMktSz）</td>
</tr>
<tr>
<td>- makerFee</td>
<td>String</td>
<td>Maker 手续费</td>
</tr>
<tr>
<td>- takerFee</td>
<td>String</td>
<td>Taker 手续费</td>
</tr>
</tbody></table>

<blockquote>
<p>python </p>
</blockquote>
<div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">import</span> <span class="nn">hmac</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">math</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">requests</span>
<span class="n">url</span> <span class="o">=</span> <span class="s">"https://api.coinstore.com/api/v2/public/config/spot/symbols"</span>
<span class="n">api_key</span><span class="o">=</span><span class="sa">b</span><span class="s">'your api_key'</span>
<span class="n">secret_key</span> <span class="o">=</span> <span class="sa">b</span><span class="s">'your secret_key'</span>
<span class="n">expires</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">time</span><span class="p">.</span><span class="n">time</span><span class="p">()</span> <span class="o">*</span> <span class="mi">1000</span><span class="p">)</span>
<span class="n">expires_key</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">math</span><span class="p">.</span><span class="n">floor</span><span class="p">(</span><span class="n">expires</span> <span class="o">/</span> <span class="mi">30000</span><span class="p">))</span>
<span class="n">expires_key</span> <span class="o">=</span> <span class="n">expires_key</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">)</span>
<span class="n">key</span> <span class="o">=</span> <span class="n">hmac</span><span class="p">.</span><span class="n">new</span><span class="p">(</span><span class="n">secret_key</span><span class="p">,</span> <span class="n">expires_key</span><span class="p">,</span> <span class="n">hashlib</span><span class="p">.</span><span class="n">sha256</span><span class="p">).</span><span class="n">hexdigest</span><span class="p">()</span>
<span class="n">key</span> <span class="o">=</span> <span class="n">key</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">)</span>
<span class="n">payload</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">({})</span>
<span class="n">payload</span> <span class="o">=</span> <span class="n">payload</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">)</span>
<span class="n">signature</span> <span class="o">=</span> <span class="n">hmac</span><span class="p">.</span><span class="n">new</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">hashlib</span><span class="p">.</span><span class="n">sha256</span><span class="p">).</span><span class="n">hexdigest</span><span class="p">()</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s">'X-CS-APIKEY'</span><span class="p">:</span> <span class="n">api_key</span><span class="p">,</span>
 <span class="s">'X-CS-SIGN'</span><span class="p">:</span> <span class="n">signature</span><span class="p">,</span>
 <span class="s">'X-CS-EXPIRES'</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">expires</span><span class="p">),</span>
 <span class="s">'exch-language'</span><span class="p">:</span> <span class="s">'en_US'</span><span class="p">,</span>
 <span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span>
 <span class="s">'Accept'</span><span class="p">:</span> <span class="s">'*/*'</span><span class="p">,</span>
 <span class="c1"># 'Host': 'https://api.coinstore.com',
</span> <span class="s">'Connection'</span><span class="p">:</span> <span class="s">'keep-alive'</span>
<span class="p">}</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">payload</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">text</span><span class="p">)</span>
</code></pre></div>
<blockquote>
<p>响应</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Success"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"symbolId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nl">"symbolCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCUSDT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tradeCurrencyCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"btc"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quoteCurrencyCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"usdt"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"openTrade"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nl">"onLineTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1609813531019</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tickSz"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nl">"lotSz"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
            </span><span class="nl">"minLmtPr"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0002"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"minLmtSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.2"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"minMktVa"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"minMktSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"makerFee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.006"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"takerFee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.003"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='be59f6dd3c'><span id="1">查询币种信息</span></h2>
<p>获取币种详细信息</p>
<h3 id='http-2'>HTTP请求:</h3>
<ul>
<li>GET /fi/v1/common/currency</li>
</ul>
<h3 id='1f9ac54b15-2'>请求参数</h3>
<table><thead>
<tr>
<th>param</th>
<th>type</th>
<th>required</th>
<th>comment</th>
</tr>
</thead><tbody>
<tr>
<td>currencyCode</td>
<td>string</td>
<td>Y</td>
<td>币对Code</td>
</tr>
</tbody></table>

<blockquote>
<p>请求</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"currencyCode"</span><span class="p">:</span><span class="s2">"ETH"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='2213f4c32f-2'>响应数据</h3>
<table><thead>
<tr>
<th>code</th>
<th>type</th>
<th>comment</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>int</td>
<td>0：成功，其他失败</td>
</tr>
<tr>
<td>message</td>
<td>String</td>
<td>错误信息</td>
</tr>
<tr>
<td>data</td>
<td></td>
<td>业务数据</td>
</tr>
<tr>
<td>-  name</td>
<td>string</td>
<td>币种名称</td>
</tr>
<tr>
<td>-   code</td>
<td>string</td>
<td>币种代码</td>
</tr>
<tr>
<td>-   showPrecision</td>
<td>string</td>
<td>币种精度</td>
</tr>
<tr>
<td>-   chainDataList</td>
<td>Object []</td>
<td>链信息</td>
</tr>
<tr>
<td>--     currencyCode</td>
<td>string</td>
<td>币种code</td>
</tr>
<tr>
<td>--     chainName</td>
<td>string</td>
<td>链名称</td>
</tr>
<tr>
<td>--    chainProtocol</td>
<td>string</td>
<td>链协议</td>
</tr>
<tr>
<td>--     contractAddress</td>
<td>string</td>
<td>币种合约地址</td>
</tr>
<tr>
<td>--     depositOpen</td>
<td>int</td>
<td>是否开放充值，0关闭充值，1开放充值</td>
</tr>
<tr>
<td>--     withdrawOpen</td>
<td>int</td>
<td>是否开启提现，0关闭提现，1开启提现</td>
</tr>
<tr>
<td>--     withdrawFee</td>
<td>string</td>
<td>提币手续费</td>
</tr>
<tr>
<td>--     withdrawMin</td>
<td>string</td>
<td>最小提币数量</td>
</tr>
<tr>
<td>--     withdrawMax</td>
<td>string</td>
<td>最大提币数量</td>
</tr>
<tr>
<td>--     depositMin</td>
<td>string</td>
<td>最小充币数量</td>
</tr>
<tr>
<td>--     withdrawFeePlatform</td>
<td>string</td>
<td>提币平台手续费比例</td>
</tr>
<tr>
<td>--     burningState</td>
<td>int</td>
<td>是否为燃烧币 是1 否0</td>
</tr>
<tr>
<td>--     withdrawFeeOnChain</td>
<td>string</td>
<td>提币链上燃烧比例</td>
</tr>
<tr>
<td>--     tagType</td>
<td>int</td>
<td>是否需要标签 0不需要 1需要 2可选</td>
</tr>
<tr>
<td>--     withdrawFeeMin</td>
<td>string</td>
<td>提现最少手续费</td>
</tr>
</tbody></table>

<blockquote>
<p>python</p>
</blockquote>
<div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">import</span> <span class="nn">hmac</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">math</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">requests</span>

<span class="c1"># api查询币种信息
</span>
<span class="n">url</span> <span class="o">=</span> <span class="s">"https://api.coinstore.com/api/fi/v1/common/currency?currencyCode=ETH"</span>
<span class="n">api_key</span> <span class="o">=</span> <span class="sa">b</span><span class="s">'your api_key'</span>
<span class="n">secret_key</span> <span class="o">=</span> <span class="sa">b</span><span class="s">'your secret_key'</span>
<span class="n">expires</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">time</span><span class="p">.</span><span class="n">time</span><span class="p">()</span> <span class="o">*</span> <span class="mi">1000</span><span class="p">)</span>
<span class="n">expires_key</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">math</span><span class="p">.</span><span class="n">floor</span><span class="p">(</span><span class="n">expires</span> <span class="o">/</span> <span class="mi">30000</span><span class="p">))</span>
<span class="n">expires_key</span> <span class="o">=</span> <span class="n">expires_key</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">)</span>
<span class="n">key</span> <span class="o">=</span> <span class="n">hmac</span><span class="p">.</span><span class="n">new</span><span class="p">(</span><span class="n">secret_key</span><span class="p">,</span> <span class="n">expires_key</span><span class="p">,</span> <span class="n">hashlib</span><span class="p">.</span><span class="n">sha256</span><span class="p">).</span><span class="n">hexdigest</span><span class="p">()</span>
<span class="n">key</span> <span class="o">=</span> <span class="n">key</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">)</span>
<span class="n">payload</span> <span class="o">=</span> <span class="s">"currencyCode=ETH"</span>
<span class="n">payload</span> <span class="o">=</span> <span class="n">payload</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">)</span>
<span class="n">signature</span> <span class="o">=</span> <span class="n">hmac</span><span class="p">.</span><span class="n">new</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">hashlib</span><span class="p">.</span><span class="n">sha256</span><span class="p">).</span><span class="n">hexdigest</span><span class="p">()</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'X-CS-APIKEY'</span><span class="p">:</span> <span class="n">api_key</span><span class="p">,</span>
    <span class="s">'X-CS-SIGN'</span><span class="p">:</span> <span class="n">signature</span><span class="p">,</span>
    <span class="s">'X-CS-EXPIRES'</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">expires</span><span class="p">),</span>
    <span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">'application/json'</span>
<span class="p">}</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">text</span><span class="p">)</span>
</code></pre></div>
<blockquote>
<p>响应</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"eth"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"eth"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"showPrecision"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
    </span><span class="nl">"chainDataList"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"currencyCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"eth"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"chainName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"eth"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"contractAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"23412374127384ghgdwq"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"depositOpen"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"withdrawOpen"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"withdrawFee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100.00000000"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"withdrawMin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.00000000"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"withdrawMax"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00000000"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"depositMin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.00000000"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"withdrawFeePlatform"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00000000"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"burningState"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"withdrawFeeOnChain"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00000000"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"tagType"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"withdrawFeeMin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00000000"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h1 id='2a0d0be224'>账户相关</h1><h2 id='7c2f2901d7'><span id="1">资产余额</span></h2>
<p>获取用户资产余额</p>
<h3 id='http-3'>HTTP请求:</h3>
<ul>
<li>POST /spot/accountList</li>
</ul>

<blockquote>
<p>python </p>
</blockquote>
<div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">import</span> <span class="nn">hmac</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">math</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">requests</span>
<span class="n">url</span> <span class="o">=</span> <span class="s">"https://api.coinstore.com/api/spot/accountList"</span>
<span class="n">api_key</span><span class="o">=</span><span class="sa">b</span><span class="s">'your api_key'</span>
<span class="n">secret_key</span> <span class="o">=</span> <span class="sa">b</span><span class="s">'your secret_key'</span>
<span class="n">expires</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">time</span><span class="p">.</span><span class="n">time</span><span class="p">()</span> <span class="o">*</span> <span class="mi">1000</span><span class="p">)</span>
<span class="n">expires_key</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">math</span><span class="p">.</span><span class="n">floor</span><span class="p">(</span><span class="n">expires</span> <span class="o">/</span> <span class="mi">30000</span><span class="p">))</span>
<span class="n">expires_key</span> <span class="o">=</span> <span class="n">expires_key</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">)</span>
<span class="n">key</span> <span class="o">=</span> <span class="n">hmac</span><span class="p">.</span><span class="n">new</span><span class="p">(</span><span class="n">secret_key</span><span class="p">,</span> <span class="n">expires_key</span><span class="p">,</span> <span class="n">hashlib</span><span class="p">.</span><span class="n">sha256</span><span class="p">).</span><span class="n">hexdigest</span><span class="p">()</span>
<span class="n">key</span> <span class="o">=</span> <span class="n">key</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">)</span>
<span class="n">payload</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">({})</span>
<span class="n">payload</span> <span class="o">=</span> <span class="n">payload</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">)</span>
<span class="n">signature</span> <span class="o">=</span> <span class="n">hmac</span><span class="p">.</span><span class="n">new</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">hashlib</span><span class="p">.</span><span class="n">sha256</span><span class="p">).</span><span class="n">hexdigest</span><span class="p">()</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s">'X-CS-APIKEY'</span><span class="p">:</span> <span class="n">api_key</span><span class="p">,</span>
 <span class="s">'X-CS-SIGN'</span><span class="p">:</span> <span class="n">signature</span><span class="p">,</span>
 <span class="s">'X-CS-EXPIRES'</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">expires</span><span class="p">),</span>
 <span class="s">'exch-language'</span><span class="p">:</span> <span class="s">'en_US'</span><span class="p">,</span>
 <span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span>
 <span class="s">'Accept'</span><span class="p">:</span> <span class="s">'*/*'</span><span class="p">,</span>
 <span class="c1"># 'Host': 'https://api.coinstore.com',
</span> <span class="s">'Connection'</span><span class="p">:</span> <span class="s">'keep-alive'</span>
<span class="p">}</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">payload</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">text</span><span class="p">)</span>
</code></pre></div>
<blockquote>
<p>响应 </p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"uid"</span><span class="p">:</span><span class="w"> </span><span class="mi">315</span><span class="p">,</span><span class="w">
            </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1134971</span><span class="p">,</span><span class="w">
            </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"balance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.05001"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
            </span><span class="nl">"typeName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FROZEN"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"uid"</span><span class="p">:</span><span class="w"> </span><span class="mi">315</span><span class="p">,</span><span class="w">
            </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1134971</span><span class="p">,</span><span class="w">
            </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"balance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"13297.94999"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nl">"typeName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AVAILABLE"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='1f9ac54b15-3'>请求参数</h3>
<table><thead>
<tr>
<th>code</th>
<th>type</th>
<th>required</th>
<th>comment</th>
</tr>
</thead><tbody>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h3 id='2213f4c32f-3'>响应数据</h3>
<table><thead>
<tr>
<th>code</th>
<th>type</th>
<th>comment</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>int</td>
<td>0：成功，其他失败</td>
</tr>
<tr>
<td>message</td>
<td>String</td>
<td>错误信息</td>
</tr>
<tr>
<td>data</td>
<td>Object []</td>
<td>业务数据</td>
</tr>
<tr>
<td>- userId</td>
<td>Long</td>
<td>用户id</td>
</tr>
<tr>
<td>- accountId</td>
<td>Long</td>
<td>账户id</td>
</tr>
<tr>
<td>- currencyId</td>
<td>int</td>
<td>币种id</td>
</tr>
<tr>
<td>- balance</td>
<td>Decimal</td>
<td>金额</td>
</tr>
<tr>
<td>- type</td>
<td>Decimal</td>
<td>账户状态 1:可用 4:冻结</td>
</tr>
</tbody></table>
<h1 id='6631e26181'>资金相关</h1><h2 id='e7cabbfe4f'><span id="2">获取充币地址</span></h2>
<p>获取充币地址信息</p>
<h3 id='http-4'>HTTP请求:</h3>
<ul>
<li>POST /fi/v3/asset/deposit/do</li>
</ul>
<h3 id='1f9ac54b15-4'>请求参数</h3>
<table><thead>
<tr>
<th>code</th>
<th>type</th>
<th>required</th>
<th>comment</th>
</tr>
</thead><tbody>
<tr>
<td>currencyCode</td>
<td>string</td>
<td>Y</td>
<td>币种code</td>
</tr>
<tr>
<td>chain</td>
<td>string</td>
<td>Y</td>
<td>链名称</td>
</tr>
</tbody></table>

<blockquote>
<p>请求</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"currencyCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDTTRX"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"chain"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TRX"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='2213f4c32f-4'>响应数据</h3>
<table><thead>
<tr>
<th>code</th>
<th>type</th>
<th>comment</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>int</td>
<td>0：成功，其他失败</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>错误信息</td>
</tr>
<tr>
<td>data</td>
<td>object</td>
<td></td>
</tr>
<tr>
<td>-  address</td>
<td>string</td>
<td>地址</td>
</tr>
<tr>
<td>-  tag</td>
<td>string</td>
<td>标签</td>
</tr>
<tr>
<td>-  depositMin</td>
<td>string</td>
<td>最小充币数量</td>
</tr>
</tbody></table>

<blockquote>
<p>python</p>
</blockquote>
<div class="highlight"><pre class="highlight python tab-python"><code><span class="n">python</span>

<span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">import</span> <span class="nn">hmac</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">math</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">requests</span>

<span class="n">url</span> <span class="o">=</span> <span class="s">"https://api.coinstore.com/api/fi/v3/asset/deposit/do"</span>
<span class="n">api_key</span> <span class="o">=</span> <span class="sa">b</span><span class="s">'your api_key'</span>
<span class="n">secret_key</span> <span class="o">=</span> <span class="sa">b</span><span class="s">'your secret_key'</span>
<span class="n">expires</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">time</span><span class="p">.</span><span class="n">time</span><span class="p">()</span> <span class="o">*</span> <span class="mi">1000</span><span class="p">)</span>
<span class="n">expires_key</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">math</span><span class="p">.</span><span class="n">floor</span><span class="p">(</span><span class="n">expires</span> <span class="o">/</span> <span class="mi">30000</span><span class="p">))</span>
<span class="n">expires_key</span> <span class="o">=</span> <span class="n">expires_key</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">)</span>
<span class="n">key</span> <span class="o">=</span> <span class="n">hmac</span><span class="p">.</span><span class="n">new</span><span class="p">(</span><span class="n">secret_key</span><span class="p">,</span> <span class="n">expires_key</span><span class="p">,</span> <span class="n">hashlib</span><span class="p">.</span><span class="n">sha256</span><span class="p">).</span><span class="n">hexdigest</span><span class="p">()</span>
<span class="n">key</span> <span class="o">=</span> <span class="n">key</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">)</span>
<span class="n">payload</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">({</span>
    <span class="s">"currencyCode"</span><span class="p">:</span> <span class="s">"USDTTRX"</span><span class="p">,</span>
    <span class="s">"chain"</span><span class="p">:</span> <span class="s">"TRX"</span>
<span class="p">})</span>
<span class="n">payload</span> <span class="o">=</span> <span class="n">payload</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">)</span>
<span class="n">signature</span> <span class="o">=</span> <span class="n">hmac</span><span class="p">.</span><span class="n">new</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">hashlib</span><span class="p">.</span><span class="n">sha256</span><span class="p">).</span><span class="n">hexdigest</span><span class="p">()</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'X-CS-APIKEY'</span><span class="p">:</span> <span class="n">api_key</span><span class="p">,</span>
    <span class="s">'X-CS-SIGN'</span><span class="p">:</span> <span class="n">signature</span><span class="p">,</span>
    <span class="s">'X-CS-EXPIRES'</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">expires</span><span class="p">),</span>
    <span class="s">'exch-language'</span><span class="p">:</span> <span class="s">'en_US'</span><span class="p">,</span>
    <span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span>
    <span class="s">'Accept'</span><span class="p">:</span> <span class="s">'*/*'</span><span class="p">,</span>
    <span class="s">'Connection'</span><span class="p">:</span> <span class="s">'keep-alive'</span>
<span class="p">}</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">payload</span><span class="p">,</span> <span class="n">verify</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">text</span><span class="p">)</span>
</code></pre></div>
<blockquote>
<p>响应</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TW4……"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"depositMin"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00010000</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='cd7b39e343'><span id="2">获取充币记录</span></h2>
<p>获取用户充币记录</p>
<h3 id='http-5'>HTTP请求:</h3>
<ul>
<li>POST /fi/v3/asset/deposit/record/list</li>
</ul>
<h3 id='1f9ac54b15-5'>请求参数</h3>
<table><thead>
<tr>
<th>code</th>
<th>type</th>
<th>required</th>
<th>comment</th>
</tr>
</thead><tbody>
<tr>
<td>currencyCode</td>
<td>string</td>
<td>N</td>
<td>币种对</td>
</tr>
<tr>
<td>startDate</td>
<td>string</td>
<td>N</td>
<td>起始时间 日期型字符串 格式&quot;yyyy-MM-dd HH:mm:ss&quot;等</td>
</tr>
<tr>
<td>endDate</td>
<td>string</td>
<td>N</td>
<td>结束时间 日期型字符串 格式&quot;yyyy-MM-dd HH:mm:ss&quot;等</td>
</tr>
<tr>
<td>fromId</td>
<td>long</td>
<td>N</td>
<td>从id开始查询，缺省从头开始</td>
</tr>
<tr>
<td>limit</td>
<td>int</td>
<td>N</td>
<td>条数 默认500，最大1000</td>
</tr>
<tr>
<td>externalId</td>
<td>string</td>
<td>N</td>
<td>外部id</td>
</tr>
<tr>
<td>label</td>
<td>string</td>
<td>N</td>
<td>备注标签</td>
</tr>
</tbody></table>

<blockquote>
<p>请求</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"currencyCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nl">"startDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2024-01-01"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"endDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2024-03-08"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"fromId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nl">"limit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"externalId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div><h3 id='2213f4c32f-5'>响应数据</h3>
<table><thead>
<tr>
<th>code</th>
<th>type</th>
<th>comment</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>type</td>
<td>comment</td>
</tr>
<tr>
<td>code</td>
<td>int</td>
<td>0：成功，其他失败</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>错误信息</td>
</tr>
<tr>
<td>data</td>
<td></td>
<td></td>
</tr>
<tr>
<td>externalId</td>
<td>string</td>
<td>外部id</td>
</tr>
<tr>
<td>label</td>
<td>string</td>
<td>备注标签</td>
</tr>
<tr>
<td>withdrawList</td>
<td>Object[]</td>
<td>业务数据</td>
</tr>
<tr>
<td>--  id</td>
<td>long</td>
<td>ID</td>
</tr>
<tr>
<td>--  symbol</td>
<td>string</td>
<td>币种</td>
</tr>
<tr>
<td>--  amount</td>
<td>string</td>
<td>金额</td>
</tr>
<tr>
<td>--  fee</td>
<td>string</td>
<td>手续费</td>
</tr>
<tr>
<td>--  createdAt</td>
<td>string</td>
<td>时间</td>
</tr>
<tr>
<td>--  status</td>
<td>int</td>
<td>提现状态: 0 未审核，1 审核通过，2 审核拒绝，3 支付中已经打币，4 支付失败，5 已完成，6 已撤销</td>
</tr>
<tr>
<td>--  explorer</td>
<td>string</td>
<td>区块链浏览器</td>
</tr>
<tr>
<td>--  txId</td>
<td>string</td>
<td>交易hash</td>
</tr>
<tr>
<td>--  addressTo</td>
<td>string</td>
<td>提币地址</td>
</tr>
<tr>
<td>--  chainName</td>
<td>string</td>
<td>链名称</td>
</tr>
<tr>
<td>--  chainProtocol</td>
<td>string</td>
<td>链协议</td>
</tr>
<tr>
<td>--  internalType</td>
<td>int</td>
<td>站内提币类型 0：非站内 1：站内</td>
</tr>
</tbody></table>
<div class="highlight"><pre class="highlight python tab-python"><code><span class="n">python</span>

<span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">import</span> <span class="nn">hmac</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">math</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">requests</span>

<span class="n">url</span> <span class="o">=</span> <span class="s">"https://api.coinstore.com/api/fi/v3/asset/deposit/record/list"</span>
<span class="n">api_key</span> <span class="o">=</span> <span class="sa">b</span><span class="s">'your api_key'</span>
<span class="n">secret_key</span> <span class="o">=</span> <span class="sa">b</span><span class="s">'your secret_key'</span>
<span class="n">expires</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">time</span><span class="p">.</span><span class="n">time</span><span class="p">()</span> <span class="o">*</span> <span class="mi">1000</span><span class="p">)</span>
<span class="n">expires_key</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">math</span><span class="p">.</span><span class="n">floor</span><span class="p">(</span><span class="n">expires</span> <span class="o">/</span> <span class="mi">30000</span><span class="p">))</span>
<span class="n">expires_key</span> <span class="o">=</span> <span class="n">expires_key</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">)</span>
<span class="n">key</span> <span class="o">=</span> <span class="n">hmac</span><span class="p">.</span><span class="n">new</span><span class="p">(</span><span class="n">secret_key</span><span class="p">,</span> <span class="n">expires_key</span><span class="p">,</span> <span class="n">hashlib</span><span class="p">.</span><span class="n">sha256</span><span class="p">).</span><span class="n">hexdigest</span><span class="p">()</span>
<span class="n">key</span> <span class="o">=</span> <span class="n">key</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">)</span>
<span class="n">payload</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">({</span>
    <span class="s">"currencyCode"</span><span class="p">:</span> <span class="s">"USDT"</span><span class="p">,</span>
    <span class="s">"startDate"</span><span class="p">:</span> <span class="s">"2024-03-01"</span><span class="p">,</span>
    <span class="s">"endDate"</span><span class="p">:</span> <span class="s">"2024-03-08"</span><span class="p">,</span>
    <span class="s">"fromId"</span><span class="p">:</span> <span class="s">""</span><span class="p">,</span>
    <span class="s">"limit"</span><span class="p">:</span> <span class="s">"10"</span><span class="p">,</span>
    <span class="s">"externalId"</span><span class="p">:</span> <span class="s">""</span><span class="p">,</span>
    <span class="s">"label"</span><span class="p">:</span> <span class="s">""</span>
<span class="p">})</span>
<span class="n">payload</span> <span class="o">=</span> <span class="n">payload</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">)</span>
<span class="n">signature</span> <span class="o">=</span> <span class="n">hmac</span><span class="p">.</span><span class="n">new</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">hashlib</span><span class="p">.</span><span class="n">sha256</span><span class="p">).</span><span class="n">hexdigest</span><span class="p">()</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'X-CS-APIKEY'</span><span class="p">:</span> <span class="n">api_key</span><span class="p">,</span>
    <span class="s">'X-CS-SIGN'</span><span class="p">:</span> <span class="n">signature</span><span class="p">,</span>
    <span class="s">'X-CS-EXPIRES'</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">expires</span><span class="p">),</span>
    <span class="s">'exch-language'</span><span class="p">:</span> <span class="s">'en_US'</span><span class="p">,</span>
    <span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span>
    <span class="s">'Accept'</span><span class="p">:</span> <span class="s">'*/*'</span><span class="p">,</span>
    <span class="s">'Connection'</span><span class="p">:</span> <span class="s">'keep-alive'</span><span class="p">}</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">payload</span><span class="p">,</span> <span class="n">verify</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">text</span><span class="p">)</span>

</code></pre></div>
<blockquote>
<p>响应</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"depositList"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">38948</span><span class="p">,</span><span class="w">
        </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"doge"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"chainName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"doge"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"chainProtocol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"doge"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.61"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2024-02-27 17:36:38"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"explorer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"19ceb820c143ceae503cf6ce5a0c9064721f438099529d041026e062e99a0bdc8"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"txId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9ceb820c143ceae503cf6ce5a0c9064721f438099529d041026e062e99a0bdc8"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"internalType"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"lockAccount"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"noDepositMsg"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"externalId"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='b55ecd1ce8'><span id="2">获取提币记录</span></h2>
<p>获取用户提币记录</p>
<h3 id='http-6'>HTTP请求:</h3>
<ul>
<li>POST /fi/v3/asset/withdraw/record/list</li>
</ul>
<h3 id='1f9ac54b15-6'>请求参数</h3>
<table><thead>
<tr>
<th>code</th>
<th>type</th>
<th>required</th>
<th>comment</th>
</tr>
</thead><tbody>
<tr>
<td>param</td>
<td>type</td>
<td>required</td>
<td>comment</td>
</tr>
<tr>
<td>currencyCode</td>
<td>string</td>
<td>N</td>
<td>币种对</td>
</tr>
<tr>
<td>startDate</td>
<td>string</td>
<td>N</td>
<td>起始时间</td>
</tr>
<tr>
<td>endDate</td>
<td>string</td>
<td>N</td>
<td>结束时间</td>
</tr>
<tr>
<td>fromId</td>
<td>long</td>
<td>N</td>
<td>从id开始查询，缺省从头开始</td>
</tr>
<tr>
<td>limit</td>
<td>int</td>
<td>N</td>
<td>条数 默认500，最大1000</td>
</tr>
<tr>
<td>externalId</td>
<td>string</td>
<td>N</td>
<td>外部id</td>
</tr>
<tr>
<td>label</td>
<td>sring</td>
<td>N</td>
<td>标签</td>
</tr>
</tbody></table>

<blockquote>
<p>请求</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"currencyCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nl">"startDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2024-03-01"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"endDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2024-03-08"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"fromId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nl">"limit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"externalId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div><h3 id='2213f4c32f-6'>响应数据</h3>
<table><thead>
<tr>
<th>code</th>
<th>type</th>
<th>comment</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>type</td>
<td>comment</td>
</tr>
<tr>
<td>code</td>
<td>int</td>
<td>0：成功，其他失败</td>
</tr>
<tr>
<td>message</td>
<td>String</td>
<td>错误信息</td>
</tr>
<tr>
<td>data</td>
<td></td>
<td></td>
</tr>
<tr>
<td>externalId</td>
<td>string</td>
<td>外部id</td>
</tr>
<tr>
<td>label</td>
<td>string</td>
<td>备注标签</td>
</tr>
<tr>
<td>depositList</td>
<td>Object []</td>
<td>业务数据</td>
</tr>
<tr>
<td>--  id</td>
<td>long</td>
<td>ID</td>
</tr>
<tr>
<td>--  symbol</td>
<td>string</td>
<td>币种</td>
</tr>
<tr>
<td>--  chainName</td>
<td>string</td>
<td>链名</td>
</tr>
<tr>
<td>--  chainProtocol</td>
<td>string</td>
<td>链协议</td>
</tr>
<tr>
<td>--  amount</td>
<td>string</td>
<td>数量</td>
</tr>
<tr>
<td>--  createdAt</td>
<td>string</td>
<td>时间</td>
</tr>
<tr>
<td>--  status</td>
<td>int</td>
<td>充值状态: 0 未确认，1 已完成，2 异常，3审核中，4驳回</td>
</tr>
<tr>
<td>--  explorer</td>
<td>string</td>
<td>区块浏览器</td>
</tr>
<tr>
<td>--  txId</td>
<td>string</td>
<td>交易hash</td>
</tr>
<tr>
<td>--  internalType</td>
<td>string</td>
<td>站内充币类型 0：非站内 1：站内</td>
</tr>
<tr>
<td>--  lockAccount</td>
<td>boolean</td>
<td>是否锁定</td>
</tr>
</tbody></table>
<div class="highlight"><pre class="highlight python tab-python"><code><span class="n">python</span>

<span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">import</span> <span class="nn">hmac</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">math</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">requests</span>

<span class="n">url</span> <span class="o">=</span> <span class="s">"https://api.coinstore.com/api/fi/v3/asset/withdraw/record/list"</span>
<span class="n">api_key</span> <span class="o">=</span> <span class="sa">b</span><span class="s">'your api_key'</span>
<span class="n">secret_key</span> <span class="o">=</span> <span class="sa">b</span><span class="s">'your secret_key'</span>
<span class="n">expires</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">time</span><span class="p">.</span><span class="n">time</span><span class="p">()</span> <span class="o">*</span> <span class="mi">1000</span><span class="p">)</span>
<span class="n">expires_key</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">math</span><span class="p">.</span><span class="n">floor</span><span class="p">(</span><span class="n">expires</span> <span class="o">/</span> <span class="mi">30000</span><span class="p">))</span>
<span class="n">expires_key</span> <span class="o">=</span> <span class="n">expires_key</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">)</span>
<span class="n">key</span> <span class="o">=</span> <span class="n">hmac</span><span class="p">.</span><span class="n">new</span><span class="p">(</span><span class="n">secret_key</span><span class="p">,</span> <span class="n">expires_key</span><span class="p">,</span> <span class="n">hashlib</span><span class="p">.</span><span class="n">sha256</span><span class="p">).</span><span class="n">hexdigest</span><span class="p">()</span>
<span class="n">key</span> <span class="o">=</span> <span class="n">key</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">)</span>
<span class="n">payload</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">({</span>
    <span class="s">"currencyCode"</span><span class="p">:</span> <span class="s">""</span><span class="p">,</span>
    <span class="s">"startDate"</span><span class="p">:</span> <span class="s">"2024-01-01"</span><span class="p">,</span>
    <span class="s">"endDate"</span><span class="p">:</span> <span class="s">"2024-03-08"</span><span class="p">,</span>
    <span class="s">"fromId"</span><span class="p">:</span> <span class="s">""</span><span class="p">,</span>
    <span class="s">"limit"</span><span class="p">:</span> <span class="s">"10"</span><span class="p">,</span>
    <span class="s">"externalId"</span><span class="p">:</span> <span class="s">""</span><span class="p">,</span>
    <span class="s">"label"</span><span class="p">:</span> <span class="s">""</span>
<span class="p">})</span>
<span class="n">payload</span> <span class="o">=</span> <span class="n">payload</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">)</span>
<span class="n">signature</span> <span class="o">=</span> <span class="n">hmac</span><span class="p">.</span><span class="n">new</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">hashlib</span><span class="p">.</span><span class="n">sha256</span><span class="p">).</span><span class="n">hexdigest</span><span class="p">()</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'X-CS-APIKEY'</span><span class="p">:</span> <span class="n">api_key</span><span class="p">,</span>
    <span class="s">'X-CS-SIGN'</span><span class="p">:</span> <span class="n">signature</span><span class="p">,</span>
    <span class="s">'X-CS-EXPIRES'</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">expires</span><span class="p">),</span>
    <span class="s">'exch-language'</span><span class="p">:</span> <span class="s">'en_US'</span><span class="p">,</span>
    <span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span>
    <span class="s">'Accept'</span><span class="p">:</span> <span class="s">'*/*'</span><span class="p">,</span>
    <span class="s">'Connection'</span><span class="p">:</span> <span class="s">'keep-alive'</span><span class="p">}</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">payload</span><span class="p">,</span> <span class="n">verify</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">text</span><span class="p">)</span>

</code></pre></div>
<blockquote>
<p>响应</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"withdrawList"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4886</span><span class="p">,</span><span class="w">
        </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DOGE"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.3"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2024-02-27 18:20:31"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
        </span><span class="nl">"showStatus"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="nl">"explorer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://eth.btc.com/txinfo/"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"txId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7b06acd90f839914f2676693927d994c264a0561893d3a5461a2a910d318acba"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"addressTo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DFXm3XC49n3SBNqELip9LZHAo1nBaiDbdG"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"chainName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DOGE"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"chainProtocol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DOGE"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"internalType"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"externalId"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='1ec50bd5c6'><span id="2">提币</span></h2>
<p>用户提币。普通子账户不支持提币;API只能提币到免认证地址/账户上，通过 WEB/APP 可以设置免认证地址。</p>
<h3 id='http-7'>HTTP请求:</h3>
<ul>
<li>POST /fi/v3/asset/doWithdraw</li>
</ul>
<h3 id='1f9ac54b15-7'>请求参数</h3>
<table><thead>
<tr>
<th>code</th>
<th>type</th>
<th>required</th>
<th>comment</th>
</tr>
</thead><tbody>
<tr>
<td>param</td>
<td>type</td>
<td>required</td>
<td>comment</td>
</tr>
<tr>
<td>currencyCode</td>
<td>string</td>
<td>Y</td>
<td>划转币种</td>
</tr>
<tr>
<td>amount</td>
<td>string</td>
<td>Y</td>
<td>划转金额</td>
</tr>
<tr>
<td>address</td>
<td>string</td>
<td>Y</td>
<td>提币地址</td>
</tr>
<tr>
<td>tag</td>
<td>string</td>
<td>N</td>
<td>标签 如需要</td>
</tr>
<tr>
<td>chainType</td>
<td>string</td>
<td>Y</td>
<td>链协议 币种详情中chainProtocol 例如:trc20 bnbbsc erc20 sol</td>
</tr>
</tbody></table>

<blockquote>
<p>请求</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"currencyCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TU4vEruvZwLLkSfV9bNw12EJTPvNr7Pvaa"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nl">"chainType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"trc20"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='2213f4c32f-7'>响应数据</h3>
<table><thead>
<tr>
<th>code</th>
<th>type</th>
<th>comment</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>type</td>
<td>comment</td>
</tr>
<tr>
<td>code</td>
<td>int</td>
<td>0：成功，其他失败</td>
</tr>
<tr>
<td>message</td>
<td>String</td>
<td>错误信息</td>
</tr>
<tr>
<td>data</td>
<td></td>
<td></td>
</tr>
<tr>
<td>--  id</td>
<td>Long</td>
<td>提币ID</td>
</tr>
</tbody></table>
<div class="highlight"><pre class="highlight python tab-python"><code><span class="n">python</span>

<span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">import</span> <span class="nn">hmac</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">math</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">requests</span>

<span class="n">url</span> <span class="o">=</span> <span class="s">"https://api.coinstore.com/api/fi/v3/asset/doWithdraw"</span>
<span class="n">api_key</span> <span class="o">=</span> <span class="sa">b</span><span class="s">'your api_key'</span>
<span class="n">secret_key</span> <span class="o">=</span> <span class="sa">b</span><span class="s">'your secret_key'</span>
<span class="n">expires</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">time</span><span class="p">.</span><span class="n">time</span><span class="p">()</span> <span class="o">*</span> <span class="mi">1000</span><span class="p">)</span>
<span class="n">expires_key</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">math</span><span class="p">.</span><span class="n">floor</span><span class="p">(</span><span class="n">expires</span> <span class="o">/</span> <span class="mi">30000</span><span class="p">))</span>
<span class="n">expires_key</span> <span class="o">=</span> <span class="n">expires_key</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">)</span>
<span class="n">key</span> <span class="o">=</span> <span class="n">hmac</span><span class="p">.</span><span class="n">new</span><span class="p">(</span><span class="n">secret_key</span><span class="p">,</span> <span class="n">expires_key</span><span class="p">,</span> <span class="n">hashlib</span><span class="p">.</span><span class="n">sha256</span><span class="p">).</span><span class="n">hexdigest</span><span class="p">()</span>
<span class="n">key</span> <span class="o">=</span> <span class="n">key</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">)</span>
<span class="n">payload</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">({</span>
    <span class="s">"currencyCode"</span><span class="p">:</span> <span class="s">"USDT"</span><span class="p">,</span>
    <span class="s">"amount"</span><span class="p">:</span> <span class="s">"1000"</span><span class="p">,</span>
    <span class="s">"address"</span><span class="p">:</span> <span class="s">"TU4vEruvZwLLkSfV9bNw12EJTPvNr7Pvaa"</span><span class="p">,</span>
    <span class="s">"tag"</span><span class="p">:</span> <span class="s">"698347"</span><span class="p">,</span>
    <span class="s">"chainType"</span><span class="p">:</span> <span class="s">"TRX"</span>
<span class="p">})</span>
<span class="n">payload</span> <span class="o">=</span> <span class="n">payload</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">)</span>
<span class="n">signature</span> <span class="o">=</span> <span class="n">hmac</span><span class="p">.</span><span class="n">new</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">hashlib</span><span class="p">.</span><span class="n">sha256</span><span class="p">).</span><span class="n">hexdigest</span><span class="p">()</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'X-CS-APIKEY'</span><span class="p">:</span> <span class="n">api_key</span><span class="p">,</span>
    <span class="s">'X-CS-SIGN'</span><span class="p">:</span> <span class="n">signature</span><span class="p">,</span>
    <span class="s">'X-CS-EXPIRES'</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">expires</span><span class="p">),</span>
    <span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">}</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">payload</span><span class="p">,</span> <span class="n">verify</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">text</span><span class="p">)</span>

</code></pre></div>
<blockquote>
<p>响应</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4886</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='c6ca5cfc45'><span id="2">撤销提币</span></h2>
<p>用户撤销提币</p>
<h3 id='http-8'>HTTP请求:</h3>
<ul>
<li>POST /fi/v3/asset/cancelWithdraw</li>
</ul>
<h3 id='1f9ac54b15-8'>请求参数</h3>
<table><thead>
<tr>
<th>code</th>
<th>type</th>
<th>required</th>
<th>comment</th>
</tr>
</thead><tbody>
<tr>
<td>withdrawId</td>
<td>long</td>
<td>Y</td>
<td>提现ID</td>
</tr>
</tbody></table>

<blockquote>
<p>请求</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"withdrawId"</span><span class="p">:</span><span class="w"> </span><span class="mi">4886</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='2213f4c32f-8'>响应数据</h3>
<table><thead>
<tr>
<th>code</th>
<th>type</th>
<th>comment</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>type</td>
<td>comment</td>
</tr>
<tr>
<td>code</td>
<td>int</td>
<td>0：成功，其他失败</td>
</tr>
<tr>
<td>message</td>
<td>String</td>
<td>错误信息</td>
</tr>
<tr>
<td>data</td>
<td></td>
<td></td>
</tr>
<tr>
<td>--  id</td>
<td>Long</td>
<td>提币ID</td>
</tr>
</tbody></table>
<div class="highlight"><pre class="highlight python tab-python"><code><span class="n">python</span>

<span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">import</span> <span class="nn">hmac</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">math</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">requests</span>

<span class="n">url</span> <span class="o">=</span> <span class="s">"https://api.coinstore.com/api/fi/v3/asset/cancelWithdraw"</span>
<span class="n">api_key</span> <span class="o">=</span> <span class="sa">b</span><span class="s">'your api_key'</span>
<span class="n">secret_key</span> <span class="o">=</span> <span class="sa">b</span><span class="s">'your secret_key'</span>
<span class="n">expires</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">time</span><span class="p">.</span><span class="n">time</span><span class="p">()</span> <span class="o">*</span> <span class="mi">1000</span><span class="p">)</span>
<span class="n">expires_key</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">math</span><span class="p">.</span><span class="n">floor</span><span class="p">(</span><span class="n">expires</span> <span class="o">/</span> <span class="mi">30000</span><span class="p">))</span>
<span class="n">expires_key</span> <span class="o">=</span> <span class="n">expires_key</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">)</span>
<span class="n">key</span> <span class="o">=</span> <span class="n">hmac</span><span class="p">.</span><span class="n">new</span><span class="p">(</span><span class="n">secret_key</span><span class="p">,</span> <span class="n">expires_key</span><span class="p">,</span> <span class="n">hashlib</span><span class="p">.</span><span class="n">sha256</span><span class="p">).</span><span class="n">hexdigest</span><span class="p">()</span>
<span class="n">key</span> <span class="o">=</span> <span class="n">key</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">)</span>
<span class="n">payload</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">({</span>
    <span class="s">"withdrawId"</span><span class="p">:</span> <span class="mi">4886</span>
<span class="p">})</span>
<span class="n">payload</span> <span class="o">=</span> <span class="n">payload</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">)</span>
<span class="n">signature</span> <span class="o">=</span> <span class="n">hmac</span><span class="p">.</span><span class="n">new</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">hashlib</span><span class="p">.</span><span class="n">sha256</span><span class="p">).</span><span class="n">hexdigest</span><span class="p">()</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'X-CS-APIKEY'</span><span class="p">:</span> <span class="n">api_key</span><span class="p">,</span>
    <span class="s">'X-CS-SIGN'</span><span class="p">:</span> <span class="n">signature</span><span class="p">,</span>
    <span class="s">'X-CS-EXPIRES'</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">expires</span><span class="p">),</span>
    <span class="s">'exch-language'</span><span class="p">:</span> <span class="s">'en_US'</span><span class="p">,</span>
    <span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span>
    <span class="s">'Accept'</span><span class="p">:</span> <span class="s">'*/*'</span><span class="p">,</span>
    <span class="s">'Connection'</span><span class="p">:</span> <span class="s">'keep-alive'</span><span class="p">}</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">payload</span><span class="p">,</span> <span class="n">verify</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">text</span><span class="p">)</span>

</code></pre></div>
<blockquote>
<p>响应</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4886</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='d9b723aa93'><span id="2">划转资产</span></h2>
<p>划转用户资产</p>
<h4 id='lt-gt-api-https-futures-api-coinstore-com-api-apikey'>目前支持合约&lt;一&gt;现货划转, API域名地址 <code>https://futures.api.coinstore.com/api</code>  调用支持ApiKey</h4><h3 id='http-9'>HTTP请求:</h3>
<ul>
<li>POST /v1/future/transfer</li>
</ul>
<h3 id='1f9ac54b15-9'>请求参数</h3>
<table><thead>
<tr>
<th>code</th>
<th>type</th>
<th>required</th>
<th>comment</th>
</tr>
</thead><tbody>
<tr>
<td>param</td>
<td>type</td>
<td>required</td>
<td>comment</td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>Y</td>
<td>0, 类型 划转类型 0：账户内划转（适用于母子账户APIKey） <br/>1：母账户转子账户(仅适用于母账户APIKey) <br/>2：子账户转母账户(仅适用于母账户APIKey) <br/>默认是0</td>
</tr>
<tr>
<td>currencyCode</td>
<td>string</td>
<td>Y</td>
<td>&quot;USDT&quot;, 划转币种，如 USDT</td>
</tr>
<tr>
<td>amount</td>
<td>string</td>
<td>Y</td>
<td>划转数量</td>
</tr>
<tr>
<td>from</td>
<td>int</td>
<td>Y</td>
<td>转出账户 1：币币账户 2：合约账户</td>
</tr>
<tr>
<td>to</td>
<td>int</td>
<td>Y</td>
<td>转入账户 1：币币账户 2：合约账户</td>
</tr>
<tr>
<td>subAccount</td>
<td>string</td>
<td>N</td>
<td>子账户登录名 当type为1/2时，该字段必填</td>
</tr>
</tbody></table>

<blockquote>
<p>请求</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"currencyCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"from"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"to"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"subAccount"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='2213f4c32f-9'>响应数据</h3>
<table><thead>
<tr>
<th>code</th>
<th>type</th>
<th>comment</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>type</td>
<td>comment</td>
</tr>
<tr>
<td>code</td>
<td>int</td>
<td>0：成功，其他失败</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>错误信息</td>
</tr>
</tbody></table>
<div class="highlight"><pre class="highlight python tab-python"><code><span class="n">python</span>

<span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">import</span> <span class="nn">hmac</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">math</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">requests</span>

<span class="n">url</span> <span class="o">=</span> <span class="s">"https://api.coinstore.com/api/v1/future/transfer"</span>
<span class="n">api_key</span> <span class="o">=</span> <span class="sa">b</span><span class="s">'your api_key'</span>
<span class="n">secret_key</span> <span class="o">=</span> <span class="sa">b</span><span class="s">'your secret_key'</span>
<span class="n">expires</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">time</span><span class="p">.</span><span class="n">time</span><span class="p">()</span> <span class="o">*</span> <span class="mi">1000</span><span class="p">)</span>
<span class="n">expires_key</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">math</span><span class="p">.</span><span class="n">floor</span><span class="p">(</span><span class="n">expires</span> <span class="o">/</span> <span class="mi">30000</span><span class="p">))</span>
<span class="n">expires_key</span> <span class="o">=</span> <span class="n">expires_key</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">)</span>
<span class="n">key</span> <span class="o">=</span> <span class="n">hmac</span><span class="p">.</span><span class="n">new</span><span class="p">(</span><span class="n">secret_key</span><span class="p">,</span> <span class="n">expires_key</span><span class="p">,</span> <span class="n">hashlib</span><span class="p">.</span><span class="n">sha256</span><span class="p">).</span><span class="n">hexdigest</span><span class="p">()</span>
<span class="n">key</span> <span class="o">=</span> <span class="n">key</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">)</span>
<span class="n">payload</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">({</span>
    <span class="s">"type"</span><span class="p">:</span> <span class="s">"0"</span><span class="p">,</span>
    <span class="s">"currencyCode"</span><span class="p">:</span> <span class="s">"USDT"</span><span class="p">,</span>
    <span class="s">"amount"</span><span class="p">:</span> <span class="s">"1"</span><span class="p">,</span>
    <span class="s">"from"</span><span class="p">:</span> <span class="s">"1"</span><span class="p">,</span>
    <span class="s">"to"</span><span class="p">:</span> <span class="s">"2"</span><span class="p">,</span>
    <span class="s">"subAccount"</span><span class="p">:</span> <span class="s">""</span>
<span class="p">})</span>
<span class="n">payload</span> <span class="o">=</span> <span class="n">payload</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">)</span>
<span class="n">signature</span> <span class="o">=</span> <span class="n">hmac</span><span class="p">.</span><span class="n">new</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">hashlib</span><span class="p">.</span><span class="n">sha256</span><span class="p">).</span><span class="n">hexdigest</span><span class="p">()</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'X-CS-APIKEY'</span><span class="p">:</span> <span class="n">api_key</span><span class="p">,</span>
    <span class="s">'X-CS-SIGN'</span><span class="p">:</span> <span class="n">signature</span><span class="p">,</span>
    <span class="s">'X-CS-EXPIRES'</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">expires</span><span class="p">),</span>
    <span class="s">'exch-language'</span><span class="p">:</span> <span class="s">'en_US'</span><span class="p">,</span>
    <span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span>
    <span class="s">'Accept'</span><span class="p">:</span> <span class="s">'*/*'</span><span class="p">,</span>
    <span class="s">'Connection'</span><span class="p">:</span> <span class="s">'keep-alive'</span><span class="p">}</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">payload</span><span class="p">,</span> <span class="n">verify</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">text</span><span class="p">)</span>

</code></pre></div>
<blockquote>
<p>响应</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Success"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>响应数据:失败参数示例:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">101040502</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"request field missing"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='code'>其他响应code说明</h3>
<table><thead>
<tr>
<th>code</th>
<th>remark</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>划转成功</td>
</tr>
<tr>
<td>102150400</td>
<td>划转数量不正确</td>
</tr>
<tr>
<td>101040502</td>
<td>可能币种名称、自定义ID、划转类型不正确、划转币种不支持</td>
</tr>
<tr>
<td>102150808</td>
<td>可能余额不足、重复订单</td>
</tr>
<tr>
<td>102150400</td>
<td>失败</td>
</tr>
</tbody></table>
<h1 id='96a5882bf8'>订单相关</h1><h2 id='2152241f96'><span id="2">获取当前订单</span></h2>
<p>获取当前订单</p>
<h3 id='http-10'>HTTP请求:</h3>
<ul>
<li>GET /trade/order/active</li>
</ul>

<blockquote>
<p>python </p>
</blockquote>
<div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">import</span> <span class="nn">hmac</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">math</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">requests</span> 
<span class="n">url</span> <span class="o">=</span> <span class="s">"https://api.coinstore.com/api/trade/order/active"</span>
<span class="n">api_key</span><span class="o">=</span><span class="sa">b</span><span class="s">'your api_key'</span>
<span class="n">secret_key</span> <span class="o">=</span> <span class="sa">b</span><span class="s">'your secret_key'</span> 
<span class="n">expires</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">time</span><span class="p">.</span><span class="n">time</span><span class="p">()</span> <span class="o">*</span> <span class="mi">1000</span><span class="p">)</span>
<span class="n">expires_key</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">math</span><span class="p">.</span><span class="n">floor</span><span class="p">(</span><span class="n">expires</span> <span class="o">/</span> <span class="mi">30000</span><span class="p">))</span>
<span class="n">expires_key</span> <span class="o">=</span> <span class="n">expires_key</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">)</span>
<span class="n">key</span> <span class="o">=</span> <span class="n">hmac</span><span class="p">.</span><span class="n">new</span><span class="p">(</span><span class="n">secret_key</span><span class="p">,</span> <span class="n">expires_key</span><span class="p">,</span> <span class="n">hashlib</span><span class="p">.</span><span class="n">sha256</span><span class="p">).</span><span class="n">hexdigest</span><span class="p">()</span>
<span class="n">key</span> <span class="o">=</span> <span class="n">key</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">)</span>
<span class="n">payload</span> <span class="o">=</span> <span class="s">''</span>
<span class="n">payload</span> <span class="o">=</span> <span class="n">payload</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">)</span>
<span class="n">signature</span> <span class="o">=</span> <span class="n">hmac</span><span class="p">.</span><span class="n">new</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">hashlib</span><span class="p">.</span><span class="n">sha256</span><span class="p">).</span><span class="n">hexdigest</span><span class="p">()</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span><span class="s">'X-CS-APIKEY'</span><span class="p">:</span><span class="n">api_key</span><span class="p">,</span><span class="s">'X-CS-SIGN'</span><span class="p">:</span><span class="n">signature</span><span class="p">,</span><span class="s">'X-CS-EXPIRES'</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">expires</span><span class="p">),</span><span class="s">'Content-Type'</span><span class="p">:</span><span class="s">'application/json'</span><span class="p">}</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">payload</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">text</span><span class="p">)</span>
</code></pre></div>
<blockquote>
<p>响应</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LUFFYUSDT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"baseCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LUFFY"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quoteCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1642402062196</span><span class="p">,</span><span class="w">
            </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"timeInForce"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GTC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1138204</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ordPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">9.1E-10</span><span class="p">,</span><span class="w">
            </span><span class="nl">"cumAmt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"cumQty"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"leavesQty"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"clOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b1b2ea5e00a84b888d419cb73f8eb203"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ordAmt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ordQty"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ordId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1722183748419690"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ordStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUBMITTED"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ordType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LIMIT"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='1f9ac54b15-10'>请求参数</h3>
<table><thead>
<tr>
<th>code</th>
<th>type</th>
<th>required</th>
<th>comment</th>
</tr>
</thead><tbody>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h3 id='2213f4c32f-10'>响应数据</h3>
<table><thead>
<tr>
<th>code</th>
<th>type</th>
<th>comment</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>int</td>
<td>0：成功，其他失败</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>错误信息</td>
</tr>
<tr>
<td>data</td>
<td>list</td>
<td></td>
</tr>
<tr>
<td>├─ ordId</td>
<td>long      订单id</td>
<td></td>
</tr>
<tr>
<td>├─ clOrdId</td>
<td>string</td>
<td>客户端订单id</td>
</tr>
<tr>
<td>├─symbol</td>
<td>string</td>
<td>币对</td>
</tr>
<tr>
<td>├─baseCurrency</td>
<td>string</td>
<td>base币</td>
</tr>
<tr>
<td>├─quoteCurrency</td>
<td>string</td>
<td>quot币</td>
</tr>
<tr>
<td>├─ordPrice</td>
<td>string</td>
<td>订单价格</td>
</tr>
<tr>
<td>├─ordQty</td>
<td>string</td>
<td>订单数量</td>
</tr>
<tr>
<td>├─ordAmt</td>
<td>string</td>
<td>订单金额</td>
</tr>
<tr>
<td>├─side</td>
<td>string</td>
<td>BUY,SELL</td>
</tr>
<tr>
<td>├─cumAmt</td>
<td>string</td>
<td>成交金额</td>
</tr>
<tr>
<td>├─cumQty</td>
<td>string</td>
<td>成交数量</td>
</tr>
<tr>
<td>├─leavesQty</td>
<td>string</td>
<td>剩余数量</td>
</tr>
<tr>
<td>├─ordStatus</td>
<td>string</td>
<td>订单状态 NOT_FOUND,SUBMITTING,SUBMITTED,PARTIAL_FILLED,CANCELED,FILLED</td>
</tr>
<tr>
<td>├─ordType</td>
<td>string</td>
<td>MARKET,LIMIT,POST_ONLY</td>
</tr>
<tr>
<td>├─timeInForce</td>
<td>string</td>
<td>GTC,IOC,FOK</td>
</tr>
<tr>
<td>├─timestamp</td>
<td>long</td>
<td>时间戳</td>
</tr>
</tbody></table>
<h2 id='v2'><span id="3">获取当前订单V2</span></h2>
<p>获取当前订单 v2 版本</p>
<h4 id='api-https-api-coinstore-com-apikey'>新接口的 API域名地址 <code>https://api.coinstore.com</code>  调用支持ApiKey</h4><h3 id='http-11'>HTTP请求:</h3>
<ul>
<li>GET /api/v2/trade/order/active</li>
</ul>

<blockquote>
<p>python </p>
</blockquote>
<div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">import</span> <span class="nn">hmac</span>
<span class="kn">import</span> <span class="nn">math</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">requests</span>
<span class="n">url</span> <span class="o">=</span> <span class="s">"https://api.coinstore.com/api/v2/trade/order/active"</span>
<span class="n">api_key</span><span class="o">=</span><span class="sa">b</span><span class="s">'your api_key'</span>
<span class="n">secret_key</span> <span class="o">=</span> <span class="sa">b</span><span class="s">'your secret_key'</span>  
<span class="n">expires</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">time</span><span class="p">.</span><span class="n">time</span><span class="p">()</span> <span class="o">*</span> <span class="mi">1000</span><span class="p">)</span>
<span class="n">expires_key</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">math</span><span class="p">.</span><span class="n">floor</span><span class="p">(</span><span class="n">expires</span> <span class="o">/</span> <span class="mi">30000</span><span class="p">))</span>
<span class="n">expires_key</span> <span class="o">=</span> <span class="n">expires_key</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">)</span>
<span class="n">key</span> <span class="o">=</span> <span class="n">hmac</span><span class="p">.</span><span class="n">new</span><span class="p">(</span><span class="n">secret_key</span><span class="p">,</span> <span class="n">expires_key</span><span class="p">,</span> <span class="n">hashlib</span><span class="p">.</span><span class="n">sha256</span><span class="p">).</span><span class="n">hexdigest</span><span class="p">()</span>
<span class="n">key</span> <span class="o">=</span> <span class="n">key</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">)</span>
<span class="n">payload</span> <span class="o">=</span> <span class="s">'symbol=btcusdt'</span>
<span class="n">payload</span> <span class="o">=</span> <span class="n">payload</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">)</span>
<span class="n">signature</span> <span class="o">=</span> <span class="n">hmac</span><span class="p">.</span><span class="n">new</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">hashlib</span><span class="p">.</span><span class="n">sha256</span><span class="p">).</span><span class="n">hexdigest</span><span class="p">()</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span><span class="s">'X-CS-APIKEY'</span><span class="p">:</span><span class="n">api_key</span><span class="p">,</span><span class="s">'X-CS-SIGN'</span><span class="p">:</span><span class="n">signature</span><span class="p">,</span><span class="s">'X-CS-EXPIRES'</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">expires</span><span class="p">),</span><span class="s">'Content-Type'</span><span class="p">:</span><span class="s">'application/json'</span><span class="p">}</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">payload</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">text</span><span class="p">)</span>
</code></pre></div>
<blockquote>
<p>响应</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"baseCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"A123"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"quoteCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"cumQty"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"ordId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1758065956225025</span><span class="p">,</span><span class="w">
          </span><span class="nl">"clOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tLCGVA4g19zuEBwsITXi9g3U624Al0Bw"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"ordType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LIMIT"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"ordQty"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"cumAmt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1134912</span><span class="p">,</span><span class="w">
          </span><span class="nl">"timeInForce"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GTC"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"ordPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"leavesQty"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"avgPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"ordStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUBMITTED"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"A123USDT"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1676622290389</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='1f9ac54b15-11'>请求参数</h3>
<table><thead>
<tr>
<th>code</th>
<th>type</th>
<th>required</th>
<th>comment</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>N</td>
<td>交易对</td>
</tr>
<tr>
<td>ordId</td>
<td>int</td>
<td>N</td>
<td>委托ID</td>
</tr>
<tr>
<td>clOrdId</td>
<td>String</td>
<td>N</td>
<td>客户端委托ID</td>
</tr>
</tbody></table>
<h3 id='2213f4c32f-11'>响应数据</h3>
<table><thead>
<tr>
<th>code</th>
<th>type</th>
<th>comment</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>int</td>
<td>0：成功，其他失败</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>错误信息</td>
</tr>
<tr>
<td>data</td>
<td>list</td>
<td></td>
</tr>
<tr>
<td>├─baseCurrency</td>
<td>string</td>
<td>base币</td>
</tr>
<tr>
<td>├─quoteCurrency</td>
<td>string</td>
<td>quot币</td>
</tr>
<tr>
<td>├─timeInForce</td>
<td>string</td>
<td>GTC,IOC,FOK</td>
</tr>
<tr>
<td>├─ordStatus</td>
<td>string</td>
<td>订单状态 NOT_FOUND,SUBMITTING,SUBMITTED,PARTIAL_FILLED,CANCELED,FILLED</td>
</tr>
<tr>
<td>├─avgPrice</td>
<td>string</td>
<td>成交均价</td>
</tr>
<tr>
<td>├─ordPrice</td>
<td>string</td>
<td>订单价格</td>
</tr>
<tr>
<td>├─leavesQty</td>
<td>string</td>
<td>剩余数量</td>
</tr>
<tr>
<td>├─ordType</td>
<td>string</td>
<td>委托类型 MARKET,LIMIT,POST_ONLY</td>
</tr>
<tr>
<td>├─ordQty</td>
<td>string</td>
<td>订单数量</td>
</tr>
<tr>
<td>├─cumAmt</td>
<td>string</td>
<td>成交金额</td>
</tr>
<tr>
<td>├─side</td>
<td>string</td>
<td>BUY,SELL</td>
</tr>
<tr>
<td>├─cumQty</td>
<td>string</td>
<td>成交数量</td>
</tr>
<tr>
<td>├─ ordId</td>
<td>long</td>
<td>订单id</td>
</tr>
<tr>
<td>├─ clOrdId</td>
<td>string</td>
<td>客户端订单id</td>
</tr>
<tr>
<td>├─symbol</td>
<td>string</td>
<td>币对</td>
</tr>
<tr>
<td>├─timestamp</td>
<td>long</td>
<td>时间戳</td>
</tr>
</tbody></table>
<h2 id='8b3c19df49'><span id="3">获取用户最新成交</span></h2>
<p>获取全部成交记录</p>
<h3 id='http-12'>HTTP请求:</h3>
<ul>
<li>GET /trade/match/accountMatches</li>
</ul>

<blockquote>
<p>python </p>
</blockquote>
<div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">import</span> <span class="nn">hmac</span>
<span class="kn">import</span> <span class="nn">math</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">requests</span>
<span class="n">url</span> <span class="o">=</span> <span class="s">"https://api.coinstore.com/api/trade/match/accountMatches?symbol=tipusdt"</span>
<span class="n">api_key</span><span class="o">=</span><span class="sa">b</span><span class="s">'your api_key'</span>
<span class="n">secret_key</span> <span class="o">=</span> <span class="sa">b</span><span class="s">'your secret_key'</span>
<span class="n">expires</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">time</span><span class="p">.</span><span class="n">time</span><span class="p">()</span><span class="o">*</span> <span class="mi">1000</span><span class="p">)</span>
<span class="n">expires_key</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">math</span><span class="p">.</span><span class="n">floor</span><span class="p">(</span><span class="n">expires</span> <span class="o">/</span> <span class="mi">30000</span><span class="p">))</span>
<span class="n">expires_key</span> <span class="o">=</span> <span class="n">expires_key</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">)</span>
<span class="n">key</span> <span class="o">=</span> <span class="n">hmac</span><span class="p">.</span><span class="n">new</span><span class="p">(</span><span class="n">secret_key</span><span class="p">,</span> <span class="n">expires_key</span><span class="p">,</span> <span class="n">hashlib</span><span class="p">.</span><span class="n">sha256</span><span class="p">).</span><span class="n">hexdigest</span><span class="p">()</span>
<span class="n">key</span> <span class="o">=</span> <span class="n">key</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">)</span>
<span class="n">payload</span> <span class="o">=</span> <span class="s">'symbol=tipusdt'</span>
<span class="n">payload</span><span class="o">=</span><span class="n">payload</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">)</span>
<span class="n">signature</span> <span class="o">=</span> <span class="n">hmac</span><span class="p">.</span><span class="n">new</span><span class="p">(</span><span class="n">key</span><span class="p">,</span><span class="n">payload</span><span class="p">,</span> <span class="n">hashlib</span><span class="p">.</span><span class="n">sha256</span><span class="p">).</span><span class="n">hexdigest</span><span class="p">()</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s">'X-CS-APIKEY'</span><span class="p">:</span> <span class="n">api_key</span><span class="p">,</span>
 <span class="s">'X-CS-SIGN'</span><span class="p">:</span> <span class="n">signature</span><span class="p">,</span>
 <span class="s">'X-CS-EXPIRES'</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">expires</span><span class="p">),</span>
 <span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">'application/json'</span>
<span class="p">}</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">text</span><span class="p">)</span>
</code></pre></div>
<blockquote>
<p>响应</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3984987</span><span class="p">,</span><span class="w">
            </span><span class="nl">"remainingQty"</span><span class="p">:</span><span class="w"> </span><span class="mi">0E-18</span><span class="p">,</span><span class="w">
            </span><span class="nl">"matchRole"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nl">"feeCurrencyId"</span><span class="p">:</span><span class="w"> </span><span class="mi">44</span><span class="p">,</span><span class="w">
            </span><span class="nl">"acturalFeeRate"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.002000000000000000</span><span class="p">,</span><span class="w">
            </span><span class="nl">"role"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1138204</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instrumentId"</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w">
            </span><span class="nl">"baseCurrencyId"</span><span class="p">:</span><span class="w"> </span><span class="mi">44</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quoteCurrencyId"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w">
            </span><span class="nl">"execQty"</span><span class="p">:</span><span class="w"> </span><span class="mf">40.900000000000000000</span><span class="p">,</span><span class="w">
            </span><span class="nl">"orderState"</span><span class="p">:</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w">
            </span><span class="nl">"matchId"</span><span class="p">:</span><span class="w"> </span><span class="mi">258338866</span><span class="p">,</span><span class="w">
            </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1717384395096065</span><span class="p">,</span><span class="w">
            </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nl">"execAmt"</span><span class="p">:</span><span class="w"> </span><span class="mf">8.887161000000000000</span><span class="p">,</span><span class="w">
            </span><span class="nl">"selfDealingQty"</span><span class="p">:</span><span class="w"> </span><span class="mi">0E-18</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tradeId"</span><span class="p">:</span><span class="w"> </span><span class="mi">11523732</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.081800000000000000</span><span class="p">,</span><span class="w">
            </span><span class="nl">"matchTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1637825389</span><span class="p">,</span><span class="w">
            </span><span class="nl">"seq"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='1f9ac54b15-12'>请求参数</h3>
<table><thead>
<tr>
<th>code</th>
<th>type</th>
<th>required</th>
<th>comment</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>Y</td>
<td>交易对</td>
</tr>
<tr>
<td>ordId</td>
<td>int</td>
<td>N</td>
<td>委托ID</td>
</tr>
<tr>
<td>pageNum</td>
<td>int</td>
<td>N</td>
<td>当前页码，如果不传参，则默认返回 第 1 页</td>
</tr>
<tr>
<td>pageSize</td>
<td>int</td>
<td>N</td>
<td>每页数量，如果不传参，则默认返回 20 条</td>
</tr>
<tr>
<td>side</td>
<td>int</td>
<td>N</td>
<td>方向 -1卖出 1买入</td>
</tr>
</tbody></table>
<h3 id='2213f4c32f-12'>响应数据</h3>
<table><thead>
<tr>
<th>code</th>
<th>type</th>
<th>comment</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>int</td>
<td>0：成功，其他失败</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>错误信息</td>
</tr>
<tr>
<td>data</td>
<td>object</td>
<td></td>
</tr>
<tr>
<td>├─accountId</td>
<td>long</td>
<td>账户id</td>
</tr>
<tr>
<td>├─instrumentId</td>
<td>int</td>
<td>币对id</td>
</tr>
<tr>
<td>├─baseCurrencyId</td>
<td>int</td>
<td>基础货币 BTC</td>
</tr>
<tr>
<td>├─quoteCurrencyId</td>
<td>int</td>
<td>计价货币USDT</td>
</tr>
<tr>
<td>├─matchRole</td>
<td>int</td>
<td>撮合角色 TAKER(1),MAKER(-1)</td>
</tr>
<tr>
<td>├─feeCurrencyId</td>
<td>int</td>
<td>手续费币种id</td>
</tr>
<tr>
<td>├─role</td>
<td>String</td>
<td>角色 TAKER,MAKER</td>
</tr>
<tr>
<td>├─execQty</td>
<td>String</td>
<td>成交数量</td>
</tr>
<tr>
<td>├─orderState</td>
<td>int</td>
<td>订单状态</td>
</tr>
<tr>
<td>├─matchId</td>
<td>long</td>
<td>撮合id</td>
</tr>
<tr>
<td>├─orderId</td>
<td>long</td>
<td>订单id</td>
</tr>
<tr>
<td>├─side</td>
<td>int</td>
<td>订单方向</td>
</tr>
<tr>
<td>├─execAmt</td>
<td>String</td>
<td>成交额</td>
</tr>
<tr>
<td>├─selfDealingQty</td>
<td>String</td>
<td>自成交额</td>
</tr>
<tr>
<td>├─tradeId</td>
<td>long</td>
<td>成交id</td>
</tr>
<tr>
<td>├─fee</td>
<td>String</td>
<td>手续费</td>
</tr>
<tr>
<td>├─matchTime</td>
<td>long</td>
<td>撮合时间</td>
</tr>
<tr>
<td>├─remainingQty</td>
<td>String</td>
<td>剩余数量</td>
</tr>
</tbody></table>
<h2 id='debd6c0464'><span id="4">取消委托单</span></h2>
<p>取消委托单</p>
<h3 id='http-13'>HTTP请求:</h3>
<ul>
<li>POST /trade/order/cancel</li>
</ul>

<blockquote>
<p>请求体</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"ordId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1722183748419690</span><span class="p">,</span><span class="w">
  </span><span class="nl">"symbol"</span><span class="p">:</span><span class="s2">"LUFFYUSDT"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>python </p>
</blockquote>
<div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">import</span> <span class="nn">hmac</span>
<span class="kn">import</span> <span class="nn">math</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="n">url</span> <span class="o">=</span> <span class="s">"https://api.coinstore.com/api/trade/order/cancel"</span>
<span class="n">api_key</span><span class="o">=</span><span class="sa">b</span><span class="s">'your api_key'</span>
<span class="n">secret_key</span> <span class="o">=</span> <span class="sa">b</span><span class="s">'your secret_key'</span>
<span class="n">expires</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">time</span><span class="p">.</span><span class="n">time</span><span class="p">()</span> <span class="o">*</span> <span class="mi">1000</span><span class="p">)</span>
<span class="n">expires_key</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">math</span><span class="p">.</span><span class="n">floor</span><span class="p">(</span><span class="n">expires</span> <span class="o">/</span> <span class="mi">30000</span><span class="p">))</span>
<span class="n">expires_key</span> <span class="o">=</span> <span class="n">expires_key</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">)</span>
<span class="n">key</span> <span class="o">=</span> <span class="n">hmac</span><span class="p">.</span><span class="n">new</span><span class="p">(</span><span class="n">secret_key</span><span class="p">,</span> <span class="n">expires_key</span><span class="p">,</span> <span class="n">hashlib</span><span class="p">.</span><span class="n">sha256</span><span class="p">).</span><span class="n">hexdigest</span><span class="p">()</span>
<span class="n">key</span> <span class="o">=</span> <span class="n">key</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">)</span>
<span class="n">payload</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">({</span><span class="s">"symbol"</span><span class="p">:</span><span class="s">"btcusdt"</span><span class="p">,</span><span class="s">"orderId"</span><span class="p">:</span><span class="mi">1782425964251297</span><span class="p">})</span>
<span class="n">payload</span> <span class="o">=</span> <span class="n">payload</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">)</span>
<span class="n">signature</span> <span class="o">=</span> <span class="n">hmac</span><span class="p">.</span><span class="n">new</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">hashlib</span><span class="p">.</span><span class="n">sha256</span><span class="p">).</span><span class="n">hexdigest</span><span class="p">()</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span><span class="s">'X-CS-APIKEY'</span><span class="p">:</span><span class="n">api_key</span><span class="p">,</span><span class="s">'X-CS-SIGN'</span><span class="p">:</span><span class="n">signature</span><span class="p">,</span><span class="s">'X-CS-EXPIRES'</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">expires</span><span class="p">),</span><span class="s">'Content-Type'</span><span class="p">:</span><span class="s">'application/json'</span><span class="p">}</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">payload</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">text</span><span class="p">)</span>
</code></pre></div>
<blockquote>
<p>响应</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"clientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b1b2ea5e00a84b888d419cb73f8eb203"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CANCELED"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ordId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1722183748419690</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='1f9ac54b15-13'>请求参数</h3>
<table><thead>
<tr>
<th>code</th>
<th>type</th>
<th>required</th>
<th>comment</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>true</td>
<td></td>
</tr>
<tr>
<td>ordId</td>
<td>long</td>
<td>true</td>
<td></td>
</tr>
</tbody></table>
<h3 id='2213f4c32f-13'>响应数据</h3>
<table><thead>
<tr>
<th>code</th>
<th>type</th>
<th>comment</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>int</td>
<td>0：成功，其他失败</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>错误信息</td>
</tr>
<tr>
<td>data</td>
<td></td>
<td>返回数据</td>
</tr>
<tr>
<td>├─state</td>
<td>string</td>
<td></td>
</tr>
<tr>
<td>├─ordId</td>
<td>long</td>
<td></td>
</tr>
</tbody></table>
<h2 id='caef340d80'><span id="5">一键撤单</span></h2><h3 id='http-14'>HTTP请求:</h3>
<ul>
<li>POST /trade/order/cancelAll</li>
</ul>

<blockquote>
<p>请求体</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"symbol"</span><span class="p">:</span><span class="s2">"LUFFYUSDT"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>python </p>
</blockquote>
<div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">import</span> <span class="nn">hmac</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">math</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">requests</span>
<span class="n">url</span> <span class="o">=</span> <span class="s">"https://api.coinstore.com/api/trade/order/cancelAll"</span>
<span class="n">api_key</span><span class="o">=</span><span class="sa">b</span><span class="s">'your api_key'</span>
<span class="n">secret_key</span> <span class="o">=</span> <span class="sa">b</span><span class="s">'your secret_key'</span>
<span class="n">expires</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">time</span><span class="p">.</span><span class="n">time</span><span class="p">()</span> <span class="o">*</span> <span class="mi">1000</span><span class="p">)</span>
<span class="n">expires_key</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">math</span><span class="p">.</span><span class="n">floor</span><span class="p">(</span><span class="n">expires</span> <span class="o">/</span> <span class="mi">30000</span><span class="p">))</span>
<span class="n">expires_key</span> <span class="o">=</span> <span class="n">expires_key</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">)</span>
<span class="n">key</span> <span class="o">=</span> <span class="n">hmac</span><span class="p">.</span><span class="n">new</span><span class="p">(</span><span class="n">secret_key</span><span class="p">,</span> <span class="n">expires_key</span><span class="p">,</span> <span class="n">hashlib</span><span class="p">.</span><span class="n">sha256</span><span class="p">).</span><span class="n">hexdigest</span><span class="p">()</span>
<span class="n">key</span> <span class="o">=</span> <span class="n">key</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">)</span>
<span class="n">payload</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">({</span>
  <span class="s">"symbol"</span><span class="p">:</span> <span class="s">"BTCUSDT"</span>
 <span class="p">})</span>
<span class="n">payload</span> <span class="o">=</span> <span class="n">payload</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">)</span>
<span class="n">signature</span> <span class="o">=</span> <span class="n">hmac</span><span class="p">.</span><span class="n">new</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">hashlib</span><span class="p">.</span><span class="n">sha256</span><span class="p">).</span><span class="n">hexdigest</span><span class="p">()</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s">'X-CS-APIKEY'</span><span class="p">:</span> <span class="n">api_key</span><span class="p">,</span>
 <span class="s">'X-CS-SIGN'</span><span class="p">:</span> <span class="n">signature</span><span class="p">,</span>
 <span class="s">'X-CS-EXPIRES'</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">expires</span><span class="p">),</span>
 <span class="s">'exch-language'</span><span class="p">:</span> <span class="s">'en_US'</span><span class="p">,</span>
 <span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span>
 <span class="s">'Accept'</span><span class="p">:</span> <span class="s">'*/*'</span><span class="p">,</span>
 <span class="c1"># 'Host': 'https://api.coinstore.com',
</span> <span class="s">'Connection'</span><span class="p">:</span> <span class="s">'keep-alive'</span>
<span class="p">}</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">payload</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">text</span><span class="p">)</span>
</code></pre></div>
<blockquote>
<p>响应</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='1f9ac54b15-14'>请求参数</h3>
<table><thead>
<tr>
<th>code</th>
<th>type</th>
<th>required</th>
<th>comment</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>true</td>
<td>撤销指定交易对所有订单</td>
</tr>
</tbody></table>
<h3 id='2213f4c32f-14'>响应数据</h3>
<table><thead>
<tr>
<th>code</th>
<th>type</th>
<th>comment</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>int</td>
<td>0：成功，其他失败</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>错误信息</td>
</tr>
</tbody></table>
<h2 id='df83685cc8'><span id="6">创建订单</span></h2>
<p>创建订单</p>
<h4 id='50-coinstore'>普通用户的账号同一时间只允许持有 50 笔活动委托，做市账号不受此限制。如果您是做市商但有账号未添加做市账号权限，请联系 Coinstore 交付部门。</h4>
<blockquote>
<p>请求体</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LUFFYUSDT"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ordType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LIMIT"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ordPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">9.2e-10</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ordQty"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12323231243"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1642407805168</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>python </p>
</blockquote>
<div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">import</span> <span class="nn">hmac</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">math</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">requests</span>
<span class="n">url</span> <span class="o">=</span> <span class="s">"https://api.coinstore.com/api/trade/order/place"</span>
<span class="n">api_key</span><span class="o">=</span><span class="sa">b</span><span class="s">'your api_key'</span>
<span class="n">secret_key</span> <span class="o">=</span> <span class="sa">b</span><span class="s">'your secret key'</span>
<span class="n">expires</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">time</span><span class="p">.</span><span class="n">time</span><span class="p">()</span> <span class="o">*</span> <span class="mi">1000</span><span class="p">)</span>
<span class="n">expires_key</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">math</span><span class="p">.</span><span class="n">floor</span><span class="p">(</span><span class="n">expires</span> <span class="o">/</span> <span class="mi">30000</span><span class="p">))</span>
<span class="n">expires_key</span> <span class="o">=</span> <span class="n">expires_key</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">)</span>
<span class="n">key</span> <span class="o">=</span> <span class="n">hmac</span><span class="p">.</span><span class="n">new</span><span class="p">(</span><span class="n">secret_key</span><span class="p">,</span> <span class="n">expires_key</span><span class="p">,</span> <span class="n">hashlib</span><span class="p">.</span><span class="n">sha256</span><span class="p">).</span><span class="n">hexdigest</span><span class="p">()</span>
<span class="n">key</span> <span class="o">=</span> <span class="n">key</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">)</span>
<span class="n">payload</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">({</span>
    <span class="s">"ordPrice"</span><span class="p">:</span> <span class="s">"30000"</span><span class="p">,</span>
 <span class="s">"ordQty"</span><span class="p">:</span> <span class="s">"1"</span><span class="p">,</span>
 <span class="c1"># "clOrdId": "8vdpfHC0LmhojVIffOlkBc9bV9992",
</span> <span class="s">"symbol"</span><span class="p">:</span> <span class="s">"BTCUSDT"</span><span class="p">,</span>
 <span class="s">"side"</span><span class="p">:</span> <span class="s">"BUY"</span><span class="p">,</span>
 <span class="s">"ordType"</span><span class="p">:</span> <span class="s">"LIMIT"</span>
 <span class="p">})</span>
<span class="n">payload</span> <span class="o">=</span> <span class="n">payload</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">)</span>
<span class="n">signature</span> <span class="o">=</span> <span class="n">hmac</span><span class="p">.</span><span class="n">new</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">hashlib</span><span class="p">.</span><span class="n">sha256</span><span class="p">).</span><span class="n">hexdigest</span><span class="p">()</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s">'X-CS-APIKEY'</span><span class="p">:</span> <span class="n">api_key</span><span class="p">,</span>
 <span class="s">'X-CS-SIGN'</span><span class="p">:</span> <span class="n">signature</span><span class="p">,</span>
 <span class="s">'X-CS-EXPIRES'</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">expires</span><span class="p">),</span>
 <span class="s">'exch-language'</span><span class="p">:</span> <span class="s">'en_US'</span><span class="p">,</span>
 <span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span>
 <span class="s">'Accept'</span><span class="p">:</span> <span class="s">'*/*'</span><span class="p">,</span>
 <span class="c1"># 'Host': 'https://api.coinstore.com',
</span> <span class="s">'Connection'</span><span class="p">:</span> <span class="s">'keep-alive'</span>
<span class="p">}</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">payload</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">text</span><span class="p">)</span>
</code></pre></div>
<blockquote>
<p>响应</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"order_id"</span><span class="p">:</span><span class="mi">11594964764657880</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='http-15'>HTTP请求:</h3>
<ul>
<li>POST /trade/order/place</li>
</ul>
<h3 id='1f9ac54b15-15'>请求参数</h3>
<table><thead>
<tr>
<th>code</th>
<th>type</th>
<th>required</th>
<th>comment</th>
</tr>
</thead><tbody>
<tr>
<td>clOrdId</td>
<td>string</td>
<td>false</td>
<td>客户端订单ID。客户自定义的唯一订单ID。 如果未发送，则自动生成</td>
</tr>
<tr>
<td>symbol</td>
<td>string</td>
<td>true</td>
<td></td>
</tr>
<tr>
<td>side</td>
<td>string</td>
<td>true</td>
<td>BUY,SELL</td>
</tr>
<tr>
<td>ordType</td>
<td>string</td>
<td>true</td>
<td>MARKET,LIMIT,POST_ONLY</td>
</tr>
<tr>
<td>timeInForce</td>
<td>string</td>
<td>false</td>
<td>defaultValue = &quot;GTC&quot;</td>
</tr>
<tr>
<td>ordPrice</td>
<td>long</td>
<td>false</td>
<td>限价单必选</td>
</tr>
<tr>
<td>ordQty</td>
<td>long</td>
<td>false</td>
<td>限价单必选，市价卖单必选</td>
</tr>
<tr>
<td>ordAmt</td>
<td>long</td>
<td>false</td>
<td>市价买单必选</td>
</tr>
<tr>
<td>timestamp</td>
<td>long</td>
<td>true</td>
<td>时间戳</td>
</tr>
</tbody></table>
<h3 id='2213f4c32f-15'>响应数据</h3>
<table><thead>
<tr>
<th>code</th>
<th>type</th>
<th>comment</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>int</td>
<td>0：成功，其他失败</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>错误信息</td>
</tr>
<tr>
<td>data</td>
<td></td>
<td>返回数据</td>
</tr>
<tr>
<td>├─ ordId</td>
<td>long</td>
<td>订单id</td>
</tr>
</tbody></table>
<h2 id='77aaf08979'><span id="13">批量下单</span></h2>
<p>批量下单</p>
<h4 id='50-coinstore-2'>普通用户的账号同一时间只允许持有 50 笔活动委托，做市账号不受此限制。如果您是做市商但有账号未添加做市账号权限，请联系 Coinstore 交付部门。</h4>
<blockquote>
<p>请求体</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LUFFYUSDT"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"orders"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ordType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LIMIT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ordPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">9.2e-10</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ordQty"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ordType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LIMIT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ordPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">9.2e-10</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ordQty"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1642574848089</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>python </p>
</blockquote>
<div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">import</span> <span class="nn">hmac</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">math</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">requests</span>
<span class="n">url</span> <span class="o">=</span> <span class="s">"https://api.coinstore.com/api/trade/order/placeBatch"</span>
<span class="n">api_key</span><span class="o">=</span><span class="sa">b</span><span class="s">'your api_key'</span>
<span class="n">secret_key</span> <span class="o">=</span> <span class="sa">b</span><span class="s">'your secret_key'</span>
<span class="n">expires</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">time</span><span class="p">.</span><span class="n">time</span><span class="p">()</span> <span class="o">*</span> <span class="mi">1000</span><span class="p">)</span>
<span class="n">expires_key</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">math</span><span class="p">.</span><span class="n">floor</span><span class="p">(</span><span class="n">expires</span> <span class="o">/</span> <span class="mi">30000</span><span class="p">))</span>
<span class="n">expires_key</span> <span class="o">=</span> <span class="n">expires_key</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">)</span>
<span class="n">key</span> <span class="o">=</span> <span class="n">hmac</span><span class="p">.</span><span class="n">new</span><span class="p">(</span><span class="n">secret_key</span><span class="p">,</span> <span class="n">expires_key</span><span class="p">,</span> <span class="n">hashlib</span><span class="p">.</span><span class="n">sha256</span><span class="p">).</span><span class="n">hexdigest</span><span class="p">()</span>
<span class="n">key</span> <span class="o">=</span> <span class="n">key</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">)</span>
<span class="n">payload</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">({</span>
    <span class="s">"symbol"</span><span class="p">:</span><span class="s">"BTCUSDT"</span><span class="p">,</span>
 <span class="s">"orders"</span><span class="p">:[</span>
        <span class="p">{</span>
            <span class="s">"side"</span><span class="p">:</span><span class="s">"BUY"</span><span class="p">,</span>
 <span class="s">"ordType"</span><span class="p">:</span><span class="s">"LIMIT"</span><span class="p">,</span>
 <span class="s">"ordPrice"</span><span class="p">:</span><span class="mi">28000</span><span class="p">,</span>
 <span class="s">"ordQty"</span><span class="p">:</span><span class="s">"2"</span>
 <span class="p">},</span>
 <span class="p">{</span>
            <span class="s">"side"</span><span class="p">:</span><span class="s">"BUY"</span><span class="p">,</span>
 <span class="s">"ordType"</span><span class="p">:</span><span class="s">"LIMIT"</span><span class="p">,</span>
 <span class="s">"ordPrice"</span><span class="p">:</span><span class="mi">30000</span><span class="p">,</span>
 <span class="s">"ordQty"</span><span class="p">:</span><span class="s">"1"</span>
 <span class="p">}</span>
    <span class="p">],</span>
 <span class="s">"timestamp"</span><span class="p">:</span><span class="n">expires</span><span class="p">}</span>
<span class="p">)</span>
<span class="n">payload</span> <span class="o">=</span> <span class="n">payload</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">)</span>
<span class="n">signature</span> <span class="o">=</span> <span class="n">hmac</span><span class="p">.</span><span class="n">new</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">hashlib</span><span class="p">.</span><span class="n">sha256</span><span class="p">).</span><span class="n">hexdigest</span><span class="p">()</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s">'X-CS-APIKEY'</span><span class="p">:</span> <span class="n">api_key</span><span class="p">,</span>
 <span class="s">'X-CS-SIGN'</span><span class="p">:</span> <span class="n">signature</span><span class="p">,</span>
 <span class="s">'X-CS-EXPIRES'</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">expires</span><span class="p">),</span>
 <span class="s">'exch-language'</span><span class="p">:</span> <span class="s">'en_US'</span><span class="p">,</span>
 <span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span>
 <span class="s">'Accept'</span><span class="p">:</span> <span class="s">'*/*'</span><span class="p">,</span>
 <span class="c1"># 'Host': 'https://api.coinstore.com',
</span> <span class="s">'Connection'</span><span class="p">:</span> <span class="s">'keep-alive'</span>
<span class="p">}</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">payload</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">text</span><span class="p">)</span>
</code></pre></div>
<blockquote>
<p>响应</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"ordId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1722364585836585</span><span class="p">,</span><span class="w">
            </span><span class="nl">"clOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c09e68b49a724c8a95ef76526bf6bc05"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"ordId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1722364585836586</span><span class="p">,</span><span class="w">
            </span><span class="nl">"clOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d0344830639d4f6d94be4110bf98c759"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='http-16'>HTTP请求:</h3>
<ul>
<li>POST /trade/order/placeBatch</li>
</ul>
<h3 id='1f9ac54b15-16'>请求参数</h3>
<table><thead>
<tr>
<th>code</th>
<th>type</th>
<th>required</th>
<th>comment</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>true</td>
<td></td>
</tr>
<tr>
<td>timestamp</td>
<td>long</td>
<td>true</td>
<td></td>
</tr>
<tr>
<td>orders</td>
<td>list</td>
<td>true</td>
<td></td>
</tr>
<tr>
<td>├─ clOrdId</td>
<td>string</td>
<td>false</td>
<td>客户端订单ID。客户自定义的唯一订单ID。 如果未发送，则自动生成</td>
</tr>
<tr>
<td>├─ side</td>
<td>string</td>
<td>true</td>
<td>BUY,SELL</td>
</tr>
<tr>
<td>├─ ordType</td>
<td>string</td>
<td>true</td>
<td>MARKET,LIMIT,POST_ONLY</td>
</tr>
<tr>
<td>├─ timeInForce</td>
<td>string</td>
<td>false</td>
<td>defaultValue = &quot;GTC&quot;</td>
</tr>
<tr>
<td>├─ ordPrice</td>
<td>long</td>
<td>false</td>
<td>限价单必选</td>
</tr>
<tr>
<td>├─ ordQty</td>
<td>long</td>
<td>false</td>
<td>限价单必选，市价卖单必选</td>
</tr>
<tr>
<td>├─ ordAmt</td>
<td>long</td>
<td>false</td>
<td>市价买单必选</td>
</tr>
</tbody></table>
<h3 id='2213f4c32f-16'>响应数据</h3>
<table><thead>
<tr>
<th>code</th>
<th>type</th>
<th>comment</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>int</td>
<td>0：成功，其他失败</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>错误信息</td>
</tr>
<tr>
<td>data</td>
<td>list</td>
<td>返回数据</td>
</tr>
<tr>
<td>├─ ordId</td>
<td>long</td>
<td>订单id</td>
</tr>
<tr>
<td>├─ clOrdId</td>
<td>string</td>
<td>客户端订单id</td>
</tr>
<tr>
<td>├─errno</td>
<td>int</td>
<td></td>
</tr>
<tr>
<td>├─errMsg</td>
<td>string</td>
<td></td>
</tr>
</tbody></table>
<h2 id='id'><span id="27">根据订单id批量进行撤单</span></h2>
<p>根据订单id批量进行撤单</p>
<h3 id='http-17'>HTTP请求:</h3>
<ul>
<li>POST trade/order/cancelBatch</li>
</ul>

<blockquote>
<p>请求体</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"orderIds"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">1722364585836586</span><span class="p">,</span><span class="mi">1722364585836585</span><span class="p">],</span><span class="w">
  </span><span class="nl">"symbol"</span><span class="p">:</span><span class="s2">"LUFFYUSDT"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>python </p>
</blockquote>
<div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">import</span> <span class="nn">hmac</span>
<span class="kn">import</span> <span class="nn">math</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="n">url</span> <span class="o">=</span> <span class="s">"https://api.coinstore.com/api/trade/order/cancelBatch"</span>
<span class="n">api_key</span><span class="o">=</span><span class="sa">b</span><span class="s">'your api_key'</span>
<span class="n">secret_key</span> <span class="o">=</span> <span class="sa">b</span><span class="s">'secret_key'</span>
<span class="n">expires</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">time</span><span class="p">.</span><span class="n">time</span><span class="p">()</span> <span class="o">*</span> <span class="mi">1000</span><span class="p">)</span>
<span class="n">expires_key</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">math</span><span class="p">.</span><span class="n">floor</span><span class="p">(</span><span class="n">expires</span> <span class="o">/</span> <span class="mi">30000</span><span class="p">))</span>
<span class="n">expires_key</span> <span class="o">=</span> <span class="n">expires_key</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">)</span>
<span class="n">key</span> <span class="o">=</span> <span class="n">hmac</span><span class="p">.</span><span class="n">new</span><span class="p">(</span><span class="n">secret_key</span><span class="p">,</span> <span class="n">expires_key</span><span class="p">,</span> <span class="n">hashlib</span><span class="p">.</span><span class="n">sha256</span><span class="p">).</span><span class="n">hexdigest</span><span class="p">()</span>
<span class="n">key</span> <span class="o">=</span> <span class="n">key</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">)</span>
<span class="n">payload</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">({</span><span class="s">"symbol"</span><span class="p">:</span><span class="s">"btcusdt"</span><span class="p">,</span><span class="s">"orderId"</span><span class="p">:[</span><span class="mi">1782428898165698</span><span class="p">]})</span>
<span class="n">payload</span> <span class="o">=</span> <span class="n">payload</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">)</span>
<span class="n">signature</span> <span class="o">=</span> <span class="n">hmac</span><span class="p">.</span><span class="n">new</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">hashlib</span><span class="p">.</span><span class="n">sha256</span><span class="p">).</span><span class="n">hexdigest</span><span class="p">()</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span><span class="s">'X-CS-APIKEY'</span><span class="p">:</span><span class="n">api_key</span><span class="p">,</span><span class="s">'X-CS-SIGN'</span><span class="p">:</span><span class="n">signature</span><span class="p">,</span><span class="s">'X-CS-EXPIRES'</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">expires</span><span class="p">),</span><span class="s">'Content-Type'</span><span class="p">:</span><span class="s">'application/json'</span><span class="p">}</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">payload</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">text</span><span class="p">)</span>
</code></pre></div>
<blockquote>
<p>响应</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="mi">1722364585836586</span><span class="p">,</span><span class="w">
            </span><span class="mi">1722364585836585</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"reject"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='1f9ac54b15-17'>请求参数</h3>
<table><thead>
<tr>
<th>code</th>
<th>type</th>
<th>required</th>
<th>comment</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>Y</td>
<td>&quot;BTCUSDT&quot;</td>
</tr>
<tr>
<td>orderIds</td>
<td>LIst</td>
<td>Y</td>
<td>[1,2,3]</td>
</tr>
</tbody></table>
<h3 id='2213f4c32f-17'>响应数据</h3>
<table><thead>
<tr>
<th>code</th>
<th>type</th>
<th>comment</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>string</td>
<td>0：成功，其他失败</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>错误信息</td>
</tr>
<tr>
<td>data</td>
<td>Object</td>
<td></td>
</tr>
<tr>
<td>--success</td>
<td>List</td>
<td>成功的订单id集合</td>
</tr>
<tr>
<td>--reject</td>
<td>List</td>
<td>失败的订单id集合</td>
</tr>
</tbody></table>
<h2 id='8b5706bd64'><span id="14">获取订单信息</span></h2>
<p>获取订单信息</p>

<blockquote>
<p>python </p>
</blockquote>
<div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">import</span> <span class="nn">hmac</span>
<span class="kn">import</span> <span class="nn">math</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">requests</span>
<span class="n">url</span> <span class="o">=</span> <span class="s">"https://api.coinstore.com/api/trade/order/orderInfo?ordId=1780715084580128"</span>
<span class="n">api_key</span><span class="o">=</span><span class="sa">b</span><span class="s">'your api_key'</span>
<span class="n">secret_key</span> <span class="o">=</span> <span class="sa">b</span><span class="s">'your secret_key'</span>
<span class="n">expires</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">time</span><span class="p">.</span><span class="n">time</span><span class="p">()</span><span class="o">*</span> <span class="mi">1000</span><span class="p">)</span>
<span class="n">expires_key</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">math</span><span class="p">.</span><span class="n">floor</span><span class="p">(</span><span class="n">expires</span> <span class="o">/</span> <span class="mi">30000</span><span class="p">))</span>
<span class="n">expires_key</span> <span class="o">=</span> <span class="n">expires_key</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">)</span>
<span class="n">key</span> <span class="o">=</span> <span class="n">hmac</span><span class="p">.</span><span class="n">new</span><span class="p">(</span><span class="n">secret_key</span><span class="p">,</span> <span class="n">expires_key</span><span class="p">,</span> <span class="n">hashlib</span><span class="p">.</span><span class="n">sha256</span><span class="p">).</span><span class="n">hexdigest</span><span class="p">()</span>
<span class="n">key</span> <span class="o">=</span> <span class="n">key</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">)</span>
<span class="n">payload</span> <span class="o">=</span> <span class="s">'ordId=1780715084580128'</span>
<span class="n">payload</span><span class="o">=</span><span class="n">payload</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">)</span>
<span class="n">signature</span> <span class="o">=</span> <span class="n">hmac</span><span class="p">.</span><span class="n">new</span><span class="p">(</span><span class="n">key</span><span class="p">,</span><span class="n">payload</span><span class="p">,</span> <span class="n">hashlib</span><span class="p">.</span><span class="n">sha256</span><span class="p">).</span><span class="n">hexdigest</span><span class="p">()</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s">'X-CS-APIKEY'</span><span class="p">:</span> <span class="n">api_key</span><span class="p">,</span>
 <span class="s">'X-CS-SIGN'</span><span class="p">:</span> <span class="n">signature</span><span class="p">,</span>
 <span class="s">'X-CS-EXPIRES'</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">expires</span><span class="p">),</span>
 <span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">'application/json'</span>
<span class="p">}</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">text</span><span class="p">)</span>
</code></pre></div>
<blockquote>
<p>响应</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"baseCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LUFFY"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"quoteCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LUFFYUSDT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1642574848089</span><span class="p">,</span><span class="w">
        </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1138204</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ordId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1722364585836586</span><span class="p">,</span><span class="w">
        </span><span class="nl">"clOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d0344830639d4f6d94be4110bf98c759"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ordType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LIMIT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ordState"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CANCELED"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ordPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00000000092"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ordQty"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ordAmt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00000000092"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"cumAmt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"cumQty"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"leavesQty"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"avgPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"feeCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LUFFY"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"timeInForce"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GTC"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='http-18'>HTTP请求:</h3>
<ul>
<li>GET trade/order/orderInfo</li>
</ul>
<h3 id='2eb6f47757'>请求参数:</h3>
<table><thead>
<tr>
<th>code</th>
<th>type</th>
<th>required</th>
<th>comment</th>
</tr>
</thead><tbody>
<tr>
<td>ordId</td>
<td>long</td>
<td>true</td>
<td>订单id</td>
</tr>
</tbody></table>
<h3 id='f3324f4e0c'>响应数据:</h3>
<table><thead>
<tr>
<th>code</th>
<th>type</th>
<th>comment</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>int</td>
<td>0：成功，其他失败</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>错误信息</td>
</tr>
<tr>
<td>data</td>
<td>object</td>
<td></td>
</tr>
<tr>
<td>├─ordId</td>
<td>long</td>
<td>订单ID</td>
</tr>
<tr>
<td>├─clOrdId</td>
<td>String</td>
<td>客户端订单ID</td>
</tr>
<tr>
<td>├─accountId</td>
<td>long</td>
<td>账户ID</td>
</tr>
<tr>
<td>├─symbol</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>├─baseCurrency</td>
<td>String</td>
<td>基础货币</td>
</tr>
<tr>
<td>├─quoteCurrency</td>
<td>String</td>
<td>计价货币</td>
</tr>
<tr>
<td>├─ordPrice</td>
<td>String</td>
<td>价格</td>
</tr>
<tr>
<td>├─ordQty</td>
<td>String</td>
<td>数量</td>
</tr>
<tr>
<td>├─ordAmt</td>
<td>String</td>
<td>金额</td>
</tr>
<tr>
<td>├─side</td>
<td>Stirng</td>
<td>方向 BUY,SELL</td>
</tr>
<tr>
<td>├─cumAmt</td>
<td>String</td>
<td>累计成交额</td>
</tr>
<tr>
<td>├─cumQty</td>
<td>String</td>
<td>累计成交量</td>
</tr>
<tr>
<td>├─leavesQty</td>
<td>String</td>
<td>剩余数量</td>
</tr>
<tr>
<td>├─ordState</td>
<td>Stirng</td>
<td>状态 NOT_FOUND, REJECTED, SUBMITTING, SUBMITTED, PARTIAL_FILLED, REPLACING, REPLACED, CANCELING, CANCELED, EXPIRED, STOPPED, FILLED</td>
</tr>
<tr>
<td>├─ordType</td>
<td>Stirng</td>
<td>订单类型 MARKET,LIMIT,POST_ONLY</td>
</tr>
<tr>
<td>├─flags</td>
<td>Stirng</td>
<td>订单类型 POST_ONLY,REDUCE_ONLY,HIDDEN</td>
</tr>
<tr>
<td>├─timeInForce</td>
<td>Stirng</td>
<td>成交限制类型 GTC,IOC,FOK</td>
</tr>
<tr>
<td>├─timestamp</td>
<td>long</td>
<td>订单时间 毫秒</td>
</tr>
<tr>
<td>├─avgPrice</td>
<td>long</td>
<td>成交均价</td>
</tr>
</tbody></table>
<h2 id='v2-2'><span id="15">获取订单信息V2</span></h2>
<p>获取订单信息V2</p>
<h4 id='api-https-api-coinstore-com-apikey-2'>新接口的 API域名地址 <code>https://api.coinstore.com</code>  调用支持ApiKey</h4><h3 id='http-19'>HTTP请求:</h3>
<ul>
<li>GET /api/v2/trade/order/orderInfo</li>
</ul>

<blockquote>
<p>python </p>
</blockquote>
<div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">import</span> <span class="nn">hmac</span>
<span class="kn">import</span> <span class="nn">math</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">requests</span>
<span class="n">url</span> <span class="o">=</span> <span class="s">"https://api.coinstore.com/api/v2/trade/order/orderInfo?ordId=1780715084580128"</span>
<span class="n">api_key</span><span class="o">=</span><span class="sa">b</span><span class="s">'your api_key'</span>
<span class="n">secret_key</span> <span class="o">=</span> <span class="sa">b</span><span class="s">'your secret_key'</span>
<span class="n">expires</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">time</span><span class="p">.</span><span class="n">time</span><span class="p">()</span><span class="o">*</span> <span class="mi">1000</span><span class="p">)</span>
<span class="n">expires_key</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">math</span><span class="p">.</span><span class="n">floor</span><span class="p">(</span><span class="n">expires</span> <span class="o">/</span> <span class="mi">30000</span><span class="p">))</span>
<span class="n">expires_key</span> <span class="o">=</span> <span class="n">expires_key</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">)</span>
<span class="n">key</span> <span class="o">=</span> <span class="n">hmac</span><span class="p">.</span><span class="n">new</span><span class="p">(</span><span class="n">secret_key</span><span class="p">,</span> <span class="n">expires_key</span><span class="p">,</span> <span class="n">hashlib</span><span class="p">.</span><span class="n">sha256</span><span class="p">).</span><span class="n">hexdigest</span><span class="p">()</span>
<span class="n">key</span> <span class="o">=</span> <span class="n">key</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">)</span>
<span class="n">payload</span> <span class="o">=</span> <span class="s">'ordId=1780715084580128'</span>
<span class="n">payload</span><span class="o">=</span><span class="n">payload</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">)</span>
<span class="n">signature</span> <span class="o">=</span> <span class="n">hmac</span><span class="p">.</span><span class="n">new</span><span class="p">(</span><span class="n">key</span><span class="p">,</span><span class="n">payload</span><span class="p">,</span> <span class="n">hashlib</span><span class="p">.</span><span class="n">sha256</span><span class="p">).</span><span class="n">hexdigest</span><span class="p">()</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s">'X-CS-APIKEY'</span><span class="p">:</span> <span class="n">api_key</span><span class="p">,</span>
 <span class="s">'X-CS-SIGN'</span><span class="p">:</span> <span class="n">signature</span><span class="p">,</span>
 <span class="s">'X-CS-EXPIRES'</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">expires</span><span class="p">),</span>
 <span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">'application/json'</span>
<span class="p">}</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">text</span><span class="p">)</span>
</code></pre></div>
<blockquote>
<p>响应</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"baseCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"A123"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"quoteCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"cumQty"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"ordId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1758065956225025</span><span class="p">,</span><span class="w">
          </span><span class="nl">"clOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tLCGVA4g19zuEBwsITXi9g3U624Al0Bw"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"ordType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LIMIT"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"ordQty"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"cumAmt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1134912</span><span class="p">,</span><span class="w">
          </span><span class="nl">"timeInForce"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GTC"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"ordPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"leavesQty"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"avgPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"ordStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUBMITTED"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"A123USDT"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"orderUpdateTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1676622290389</span><span class="p">,</span><span class="w">
          </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1676622290389</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='1f9ac54b15-18'>请求参数</h3>
<table><thead>
<tr>
<th>code</th>
<th>type</th>
<th>required</th>
<th>comment</th>
</tr>
</thead><tbody>
<tr>
<td>ordId</td>
<td>int</td>
<td>N</td>
<td>委托ID</td>
</tr>
<tr>
<td>clOrdId</td>
<td>String</td>
<td>N</td>
<td>客户端委托ID</td>
</tr>
</tbody></table>
<h3 id='2213f4c32f-18'>响应数据</h3>
<table><thead>
<tr>
<th>code</th>
<th>type</th>
<th>comment</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>int</td>
<td>0：成功，其他失败</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>错误信息</td>
</tr>
<tr>
<td>data</td>
<td>list</td>
<td></td>
</tr>
<tr>
<td>├─baseCurrency</td>
<td>string</td>
<td>base币</td>
</tr>
<tr>
<td>├─quoteCurrency</td>
<td>string</td>
<td>quot币</td>
</tr>
<tr>
<td>├─timeInForce</td>
<td>string</td>
<td>GTC,IOC,FOK</td>
</tr>
<tr>
<td>├─ordStatus</td>
<td>string</td>
<td>订单状态 NOT_FOUND,SUBMITTING,SUBMITTED,PARTIAL_FILLED,CANCELED,FILLED</td>
</tr>
<tr>
<td>├─avgPrice</td>
<td>string</td>
<td>成交均价</td>
</tr>
<tr>
<td>├─ordPrice</td>
<td>string</td>
<td>订单价格</td>
</tr>
<tr>
<td>├─leavesQty</td>
<td>string</td>
<td>剩余数量</td>
</tr>
<tr>
<td>├─ordType</td>
<td>string</td>
<td>委托类型 MARKET,LIMIT,POST_ONLY</td>
</tr>
<tr>
<td>├─ordQty</td>
<td>string</td>
<td>订单数量</td>
</tr>
<tr>
<td>├─cumAmt</td>
<td>string</td>
<td>成交金额</td>
</tr>
<tr>
<td>├─side</td>
<td>string</td>
<td>BUY,SELL</td>
</tr>
<tr>
<td>├─cumQty</td>
<td>string</td>
<td>成交数量</td>
</tr>
<tr>
<td>├─ ordId</td>
<td>long</td>
<td>订单id</td>
</tr>
<tr>
<td>├─ clOrdId</td>
<td>string</td>
<td>客户端订单id</td>
</tr>
<tr>
<td>├─symbol</td>
<td>string</td>
<td>币对</td>
</tr>
<tr>
<td>├─orderUpdateTime</td>
<td>long</td>
<td>订单状态更新时间：若未成交，则系统返回“订单创建时间”；若已成交，则系统返回最近一笔成交的时间</td>
</tr>
<tr>
<td>├─timestamp</td>
<td>long</td>
<td>时间戳</td>
</tr>
</tbody></table>
<h1 id='43ee760de5'>行情相关</h1><h2 id='ticker'><span id="7">Ticker</span></h2>
<p>市场所有交易对的Ticker</p>
<h3 id='http-20'>HTTP请求:</h3>
<ul>
<li>GET /v1/market/tickers</li>
</ul>

<blockquote>
<p>响应</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ticker"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"bidSize"</span><span class="p">:</span><span class="w"> </span><span class="s2">"454.2"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"askSize"</span><span class="p">:</span><span class="w"> </span><span class="s2">"542.6"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">41723</span><span class="p">,</span><span class="w">
      </span><span class="nl">"volume"</span><span class="p">:</span><span class="w"> </span><span class="s2">"24121351.85"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1693799.10798965"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"close"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.067998"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"open"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.071842"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"high"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.072453"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"low"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.067985"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"bid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0679"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ask"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0681"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TRXUSDT"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"instrumentId"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='2eb6f47757-2'>请求参数:</h3>
<table><thead>
<tr>
<th>code</th>
<th>type</th>
<th>required</th>
<th>comment</th>
</tr>
</thead><tbody>
</tbody></table>
<h3 id='f3324f4e0c-2'>响应数据:</h3>
<table><thead>
<tr>
<th>code</th>
<th>type</th>
<th>comment</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>int</td>
<td>0：成功，其他失败</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>错误信息</td>
</tr>
<tr>
<td>data</td>
<td>Object</td>
<td></td>
</tr>
<tr>
<td>├─channel</td>
<td>String</td>
<td>标识</td>
</tr>
<tr>
<td>├─instrumentId</td>
<td>Integer</td>
<td>交易对ID</td>
</tr>
<tr>
<td>├─symbol</td>
<td>String</td>
<td>交易对</td>
</tr>
<tr>
<td>├─count</td>
<td>Integer</td>
<td>24h滚动交易笔数</td>
</tr>
<tr>
<td>├─volume</td>
<td>String</td>
<td>24h以报价币种计量的交易量</td>
</tr>
<tr>
<td>├─amount</td>
<td>String</td>
<td>24h以基础币种计量的交易量</td>
</tr>
<tr>
<td>├─close</td>
<td>String</td>
<td>末一笔成交价</td>
</tr>
<tr>
<td>├─open</td>
<td>String</td>
<td>第一笔成交价</td>
</tr>
<tr>
<td>├─high</td>
<td>String</td>
<td>最高一笔成交价</td>
</tr>
<tr>
<td>├─low</td>
<td>String</td>
<td>最低一笔成交价</td>
</tr>
<tr>
<td>├─bid</td>
<td>String</td>
<td>买一价</td>
</tr>
<tr>
<td>├─bidSize</td>
<td>String</td>
<td>买一量</td>
</tr>
<tr>
<td>├─ask</td>
<td>String</td>
<td>卖一价</td>
</tr>
<tr>
<td>├─askSize</td>
<td>String</td>
<td>卖一量</td>
</tr>
</tbody></table>
<h2 id='cf51bf082d'><span id="7">获取深度</span></h2>
<p>获取深度数据</p>

<blockquote>
<p>响应</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4@depth@5"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"level"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
        </span><span class="nl">"a"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">[</span><span class="w">
                </span><span class="s2">"41995"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"0.018144"</span><span class="p">,</span><span class="w">
                </span><span class="mi">-1</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="p">[</span><span class="w">
                </span><span class="s2">"41995.5"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"0.008279"</span><span class="p">,</span><span class="w">
                </span><span class="mi">-1</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"b"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">[</span><span class="w">
                </span><span class="s2">"41991.5"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"0.548567"</span><span class="p">,</span><span class="w">
                </span><span class="mi">1</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="p">[</span><span class="w">
                </span><span class="s2">"41991"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"0.013168"</span><span class="p">,</span><span class="w">
                </span><span class="mi">1</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCUSDT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instrumentId"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='http-21'>HTTP请求:</h3>
<ul>
<li>GET /v1/market/depth/{symbol}</li>
</ul>
<h3 id='2eb6f47757-3'>请求参数:</h3>
<table><thead>
<tr>
<th>code</th>
<th>type</th>
<th>required</th>
<th>comment</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>true</td>
<td>交易对，如“BTCUSDT”</td>
</tr>
<tr>
<td>depth</td>
<td>int</td>
<td>false</td>
<td>深度的数量，如“5, 10, 20, 50, 100”,默认20</td>
</tr>
</tbody></table>
<h3 id='f3324f4e0c-3'>响应数据:</h3>
<table><thead>
<tr>
<th>code</th>
<th>type</th>
<th>comment</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>int</td>
<td>0：成功，其他失败</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>错误信息</td>
</tr>
<tr>
<td>data</td>
<td>Object</td>
<td></td>
</tr>
<tr>
<td>├─channel</td>
<td>String</td>
<td>标识</td>
</tr>
<tr>
<td>├─level</td>
<td>Integer</td>
<td>数量</td>
</tr>
<tr>
<td>├─instrumentId</td>
<td>Integer</td>
<td>交易对ID</td>
</tr>
<tr>
<td>├─symbol</td>
<td>string</td>
<td>交易对</td>
</tr>
<tr>
<td>├─a</td>
<td>List</td>
<td>卖盘，[${价格}, ${数量}, ${方向}] ]</td>
</tr>
<tr>
<td>├─b</td>
<td>List</td>
<td>买盘，[${价格}, ${数量}, ${方向}] ]</td>
</tr>
</tbody></table>
<h2 id='k'><span id="7">获取K线</span></h2>
<p>获取交易K线</p>

<blockquote>
<p>响应</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4@kline@week_1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"item"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"endTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1641744059</span><span class="p">,</span><span class="w">
                </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"98630624.103511453"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"interval"</span><span class="p">:</span><span class="w"> </span><span class="s2">"week_1"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"startTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1641744000</span><span class="p">,</span><span class="w">
                </span><span class="nl">"firstTradeId"</span><span class="p">:</span><span class="w"> </span><span class="mi">14547884</span><span class="p">,</span><span class="w">
                </span><span class="nl">"lastTradeId"</span><span class="p">:</span><span class="w"> </span><span class="mi">14799534</span><span class="p">,</span><span class="w">
                </span><span class="nl">"volume"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2307.742209"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"close"</span><span class="p">:</span><span class="w"> </span><span class="s2">"43196.0002"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"open"</span><span class="p">:</span><span class="w"> </span><span class="s2">"41628.2582"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"high"</span><span class="p">:</span><span class="w"> </span><span class="s2">"52250.3884"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"low"</span><span class="p">:</span><span class="w"> </span><span class="s2">"39654.039"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCUSDT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instrumentId"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='http-22'>HTTP请求:</h3>
<ul>
<li>GET /v1/market/kline/{symbol}</li>
</ul>
<h3 id='2eb6f47757-4'>请求参数:</h3>
<table><thead>
<tr>
<th>code</th>
<th>type</th>
<th>required</th>
<th>comment</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>true</td>
<td>交易对，如“BTCUSDT”</td>
</tr>
<tr>
<td>period</td>
<td>String</td>
<td>false</td>
<td>数据粒度，如“1min, 5min, 15min, 30min, 60min, 4hour,12hour, 1day, 1week”,默认20</td>
</tr>
<tr>
<td>size</td>
<td>Integer</td>
<td>false</td>
<td>数据条数，[1,2000]</td>
</tr>
</tbody></table>
<h3 id='f3324f4e0c-4'>响应数据:</h3>
<table><thead>
<tr>
<th>code</th>
<th>type</th>
<th>comment</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>int</td>
<td>0：成功，其他失败</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>错误信息</td>
</tr>
<tr>
<td>data</td>
<td>Object</td>
<td></td>
</tr>
<tr>
<td>├─channel</td>
<td>String</td>
<td>标识</td>
</tr>
<tr>
<td>├─instrumentId</td>
<td>Integer</td>
<td>交易对ID</td>
</tr>
<tr>
<td>├─symbol</td>
<td>String</td>
<td>交易对</td>
</tr>
<tr>
<td>├─item</td>
<td>List</td>
<td>K 线集合</td>
</tr>
<tr>
<td>├─├─interval</td>
<td>String</td>
<td>K线间隔</td>
</tr>
<tr>
<td>├─├─endTime</td>
<td>Long</td>
<td>结束时间，单位 s</td>
</tr>
<tr>
<td>├─├─amount</td>
<td>String</td>
<td>成交额</td>
</tr>
<tr>
<td>├─├─startTime</td>
<td>Long</td>
<td>开始时间，单位 s</td>
</tr>
<tr>
<td>├─├─firstTradeId</td>
<td>Long</td>
<td>第一笔成交ID</td>
</tr>
<tr>
<td>├─├─lastTradeId</td>
<td>Long</td>
<td>末一笔成交ID</td>
</tr>
<tr>
<td>├─├─volume</td>
<td>String</td>
<td>成交量</td>
</tr>
<tr>
<td>├─├─close</td>
<td>String</td>
<td>末一笔成交价</td>
</tr>
<tr>
<td>├─├─open</td>
<td>String</td>
<td>第一笔成交价</td>
</tr>
<tr>
<td>├─├─high</td>
<td>String</td>
<td>最高成交价</td>
</tr>
<tr>
<td>├─├─low</td>
<td>String</td>
<td>最低成交价</td>
</tr>
</tbody></table>
<h2 id='586cd0d257'><span id="7">最新成交</span></h2>
<p>获取最新成交记录</p>
<h3 id='http-23'>HTTP请求:</h3>
<ul>
<li>GET /v1/market/trade/{symbol}</li>
</ul>

<blockquote>
<p>响应</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4@trade"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1642495112</span><span class="p">,</span><span class="w">
            </span><span class="nl">"volume"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.011102"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"41732.3305"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tradeId"</span><span class="p">:</span><span class="w"> </span><span class="mi">14867136</span><span class="p">,</span><span class="w">
            </span><span class="nl">"takerSide"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"seq"</span><span class="p">:</span><span class="w"> </span><span class="mi">14867136</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1642495112000</span><span class="p">,</span><span class="w">
            </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCUSDT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instrumentId"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
 </span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='2eb6f47757-5'>请求参数:</h3>
<table><thead>
<tr>
<th>code</th>
<th>type</th>
<th>required</th>
<th>comment</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>true</td>
<td>交易对，如“BTCUSDT”</td>
</tr>
<tr>
<td>size</td>
<td>Integer</td>
<td>false</td>
<td>数据条数，[1,100]</td>
</tr>
</tbody></table>
<h3 id='f3324f4e0c-5'>响应数据:</h3>
<table><thead>
<tr>
<th>code</th>
<th>type</th>
<th>comment</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>int</td>
<td>0：成功，其他失败</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>错误信息</td>
</tr>
<tr>
<td>data</td>
<td>Object</td>
<td></td>
</tr>
<tr>
<td>├─channel</td>
<td>String</td>
<td>标识</td>
</tr>
<tr>
<td>├─instrumentId</td>
<td>Integer</td>
<td>交易对ID</td>
</tr>
<tr>
<td>├─symbol</td>
<td>String</td>
<td>交易对</td>
</tr>
<tr>
<td>├─interval</td>
<td>String</td>
<td>K线间隔</td>
</tr>
<tr>
<td>├─time</td>
<td>Long</td>
<td>时间，单位 s</td>
</tr>
<tr>
<td>├─ts</td>
<td>Long</td>
<td>时间，单位 ms</td>
</tr>
<tr>
<td>├─tradeId</td>
<td>Long</td>
<td>第一笔成交ID</td>
</tr>
<tr>
<td>├─takerSide</td>
<td>String</td>
<td>方向 &quot;BUY&quot;，&quot;SELL&quot;</td>
</tr>
<tr>
<td>├─volume</td>
<td>String</td>
<td>成交量</td>
</tr>
<tr>
<td>├─price</td>
<td>String</td>
<td>末一笔成交价</td>
</tr>
</tbody></table>
<h2 id='1a3223149b'><span id="7">获取所有交易对最新价格</span></h2>
<p>获取所有交易对最新价格</p>

<blockquote>
<p>响应</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCUSDT"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"400"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
      </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AUTUSDT"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='http-24'>HTTP请求:</h3>
<ul>
<li>GET /v1/ticker/price</li>
</ul>
<h3 id='2eb6f47757-6'>请求参数:</h3>
<table><thead>
<tr>
<th>code</th>
<th>type</th>
<th>required</th>
<th>comment</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>true</td>
<td>交易对，区分大小写，逗号分割</td>
</tr>
</tbody></table>

<p><strong>默认：查询所有交易对</strong>
<strong>查询指定交易对: /v1/ticker/price;symbol=BTCUSDT,EOSUSDT,AUTUSDT</strong></p>
<h3 id='f3324f4e0c-6'>响应数据:</h3>
<table><thead>
<tr>
<th>code</th>
<th>type</th>
<th>comment</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>int</td>
<td>0：成功，其他失败</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>错误信息</td>
</tr>
<tr>
<td>data</td>
<td>List[]</td>
<td></td>
</tr>
<tr>
<td>├─id</td>
<td>long</td>
<td></td>
</tr>
<tr>
<td>├─symbol</td>
<td>string</td>
<td>交易对</td>
</tr>
<tr>
<td>├─price</td>
<td>string</td>
<td>价格</td>
</tr>
</tbody></table>
<h1 id='websocket'>Websocket行情数据</h1><h2 id='36d1a17821'><strong>简介</strong></h2><h3 id='url'>接入URL</h3>
<p>wss://ws.coinstore.com/s/ws</p>

<ol>
<li><p>所有wss接口的 baseurl为: wss://<a href="host:port">host:port</a>/s/ws</p></li>
<li><p>stream名称中所有交易对均为 小写</p></li>
<li><p>每个链接有效期不超过24小时，请妥善处理断线重连。</p></li>
<li><p>每3分钟，服务端会发送ping帧，客户端应当在10分钟内回复pong帧，否则服务端会主动断开链接。允许客户端发送不成对的pong帧(即客户端可以以高于10分钟每次的频率发送pong帧保持链接)。</p></li>
</ol>
<h3 id='e3b4b1b9ec'>服务端推送数据类型说明</h3>
<blockquote>
<p>Format Schema</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>{
    "S": 1, // session 级别的 response 消息序号，session 重连后重置，可用来判断是否漏消息
    "T": "echo|resp", // 响应类型，详见 `Types` 部分
    "C": 200,  // code
    "M": "sub.channel.success",  // meaning of this code
    "sid": "3ae985ff-cadd-9c96-7a42-4ed29e77f83b",
    "echo": {},  // client request command
    "payload": "external msg"
}
</code></pre></div><h4 id='types'>Types</h4><h5 id='request-response'>request-response 类型的消息</h5>
<ul>
<li><code>echo</code>: 服务器接受到到每一个消息都会以该种形式返回一个message，确认消息已经被接收</li>
<li><code>resp</code>: 服务器接受到到每一个消息都会以该种形式返回一个处理结果的message，标记消息处理，返回信息中包含处理结果信息</li>
</ul>
<h5 id='subscribe'>subscribe 消息类型</h5>
<p>以下类型的消息，从执行对应 channel 的 <code>SUB</code> 命令开始，到执行 <code>UNSUB</code> 结束，如果服务器端数据发生变化则推送，最小推送间隔 100ms
<code>lang=json
{
    &quot;S&quot;: 1,
    &quot;T&quot;: &quot;kline|ticker|depth|trade|account&quot;,
    ...:  // 详细见下面到每种数据订阅格式 
}
</code>
* <code>kline</code></p>

<ul>
<li><p><code>ticker</code></p></li>
<li><p><code>depth</code></p></li>
<li><p><code>trade</code></p></li>
<li><p><code>account</code></p></li>
<li><p><code>order</code></p></li>
</ul>
<h3 id='pong'>Pong</h3>
<p>服务器端支持 websocket pong frame 和 pong message 两种形式端 pong 响应</p>

<blockquote>
<p>Pong message format</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>{
  "op": "pong",
  "epochMillis": 1604040975
}
</code></pre></div><h4 id='websocket-pong-frame'>Websocket Pong frame</h4>
<ol>
<li>https://tools.ietf.org/html/rfc6455#section-5.5.3 </li>
</ol>

<blockquote>
<p>Example</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>$&gt;wscat -c 'ws://127.0.0.1:8080/s/ws'
&lt; {"S":1,"T":"resp","sid":"3ae985ff-cadd-9c96-7a42-4ed29e77f83b","C":200,"M":"established"}
&gt; {"op":"SUB","channel":["80004@trade"],"id":1}
&lt; {"S":2,"T":"echo","sid":"3ae985ff-cadd-9c96-7a42-4ed29e77f83b","C":200,"M":"command.received","echo":{"op":"SUB","channel":[{"name":"80004@trade","type":{"name":"trade","auth":"PUB"},"instrumentId":"80004","lifeStartTime":1604040964,"msgCount":0,"pub":true}],"id":1}}
&lt; {"S":3,"T":"resp","sid":"3ae985ff-cadd-9c96-7a42-4ed29e77f83b","C":200,"M":"sub.channel.success"}
&lt; {"S":4,"T":"trade","channel":"80004@trade","time":1604040975,"price":"9811.7494086","takerSide":"SELL","tradeId":26461,"volume":"7.505","symbol":"EOSUSD","instrumentId":80004}
</code></pre></div><h2 id='61d816b5c6'><strong>实时订阅/取消数据流</strong></h2>
<blockquote>
<p>订阅一个信息流</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>{
    "op": "SUB",
    "channel": [
        "btcusdt@ticker",
        "btcusdt@depth"
    ],
    "id": 1
}
</code></pre></div>
<blockquote>
<p>取消订阅一个信息流</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>{
    "op": "UNSUB",
    "channel": [
        "btcusdt@depth"
    ],
    "id": 312
}
</code></pre></div>
<blockquote>
<p>已订阅信息流</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>{
    "op": "LIST",
    "channel":[],
    "id": 3
}
</code></pre></div>
<ul>
<li>以下数据可以通过websocket发送以实现订阅或取消订阅数据流。示例如下。</li>
<li>响应内容中的id是无符号整数，作为往来信息的唯一标识。</li>
<li>如果相应内容中的 result 为 null，表示请求发送成功。</li>
</ul>
<h3 id='client-op-types'>Client <code>op</code> Types</h3>
<ol>
<li><code>SUB</code></li>
<li><code>UNSUB</code></li>
<li><code>LOGIN</code></li>
<li><code>REQ</code></li>
<li><code>LIST</code></li>
</ol>

<blockquote>
<p>Respon</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>{
    "S": 12,
    "T": "resp",
    "subs": [
        {
            "name": "80004@trade",
            "type": {
                "name": "trade",
                "auth": "PUB"
            },
            "instrumentId": "80004",
            "lifeStartTime": 1604043594,
            "msgCount": 212
        }
    ],
    "sid": "b1beeb73-7c84-862f-3d03-619de1e1a5dc"
}
</code></pre></div>
<blockquote>
<p>NOTE: <code>&lt;symbol&gt;</code> 参数暂时请使用 交易对的id，后续支持使用交易对的名称</p>

<p>IMPORTANT:  请优先使用  <code>symbol</code> 字段，<code>instrumentId</code> 标记为 <code>Deprecated</code></p>

<p>NOTE:  所有返回数据的时间，单位都是 <code>秒</code></p>
</blockquote>
<h2 id='04e6f7872c'><strong>逐笔交易</strong></h2>
<blockquote>
<p>Send</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code> {
    "op": "SUB",
    "channel": [
        "28@trade"
    ],
    "param": {
        "size": 2
    },
    "id": 1
 }
</code></pre></div>
<blockquote>
<p>Receive全量数据：</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code> {
   "S": 15,
   "T": "trade",
   "data": [
     {
       "channel": "28@trade",
       "price": "384.32",
       "tradeId": 21704,
       "seq": 10157,
       "ts": 1612685697087,
       "takerSide": "BULL",
       "time": 1612685697,
       "volume": "2",
       "symbol": "BTCJJ",
       "instrumentId": 28
     },
     {
       "channel": "28@trade",
       "price": "644.96",
       "tradeId": 21705,
       "seq": 10158,
       "ts": 1612685698157,
       "takerSide": "SELL",
       "time": 1612685698,
       "volume": "1.1932988",
       "symbol": "BTCJJ",
       "instrumentId": 28
     }
   ]
 }
</code></pre></div>
<blockquote>
<p>Receive增量数据：</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>{
  "instrumentId": 88066,
  "symbol": "USDTBTC",    // 交易对
  "tradeId": 12345,       // 交易ID
  "takerSide": "BUY",    // taker side
  "price": "0.001",     // 成交价格
  "volume": "100",       // 成交数量
  "time": 123456785,   // 成交时间 单位 s
  "ts": 1612685313400, // 单位 ms
  "seq": 9935         // 唯一自增序号
}
</code></pre></div><h3 id='stream-name'>Stream Name</h3>
<p><code>&lt;symbol&gt;@trade</code></p>

<p>eg: <code>4@trade</code></p>
<h3 id='param'>param</h3>
<p><code>param&quot;:{&quot;size&quot;:2}</code></p>
<h2 id='k-streams'><strong>K线 Streams</strong></h2>
<p>K线stream逐秒推送所请求的K线种类(最新一根K线)的更新。</p>

<blockquote>
<p>Send</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code> {"op":"SUB","channel":["4@kline@min_1"],"id":1}
</code></pre></div>
<blockquote>
<p>Receive</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>{
   "instrumentId": 88066, 
   "startTime": 1603732500,  // 这根 k线的开始时间，单位 s
    "endTime": 1603732559,  // 这根 k线的开始时间，单位 s
    "symbol": "USDTBTC",  // 交易对
    "interval": "1m",      // K线间隔
    "firstTradeId": 100,       // 这根K线期间第一笔成交ID
    "lastTradeId": 200,       // 这根K线期间末一笔成交ID
    "open": "0.0010",  // 这根K线期间第一笔成交价
    "close": "0.0020",  // 这根K线期间末一笔成交价
    "high": "0.0025",  // 这根K线期间最高成交价
    "low": "0.0015",  // 这根K线期间最低成交价
    "volume": "1000",    // 这根K线期间成交量
    "amount": "1.0000",  // 这根K线期间成交额
}
</code></pre></div><h3 id='stream-name-2'>Stream Name</h3>
<p><code>&lt;symbol&gt;@kline@&lt;interval&gt;</code></p>

<p>eg: <code>4@kline@min_1</code></p>
<h3 id='interval'>interval 可选值</h3>
<ul>
<li>min_1</li>
<li>min_5</li>
<li>min_15</li>
<li>min_30</li>
<li>hour_1</li>
<li>hour_4</li>
<li>hour_12</li>
<li>day_1</li>
<li>week_1</li>
</ul>
<h2 id='k-request'><strong>K线 Request</strong></h2>
<p>请求历史k线</p>

<blockquote>
<p>Send</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code> {
    "op": "REQ",
    "param": {
        "channel": "4@kline@min_1",
        "endTime": null,
        "limit": 200
    },
    "id": 1
 }
</code></pre></div>
<blockquote>
<p>Receive</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>{
    "channel": "88066@kline@min_1",
    "symbol": "USDTBTC",
    "instrumentId": 88066,
    "item": [
        {
            "interval": "min_1",
            "startTime": 1603766280,
            "endTime": 1603766339,
            "lastTradeId": 4739656,
            "firstTradeId": 4739656,
            "close": "4.91",
            "open": "4.91",
            "high": "4.91",
            "low": "4.91",
            "volume": "8.488",
            "amount": "41.67608"
        },
        ...
    ]
}
</code></pre></div><h3 id='param-2'>param</h3>
<ul>
<li><code>channel</code>: <code>&lt;symbol&gt;@kline@&lt;interval&gt;</code> ,eg:88066@kline@min_1</li>
<li><code>limit</code>: 最大不超过 200</li>
<li><code>endTime</code>: 可选，exclusive</li>
</ul>
<h2 id='symbol-ticker'><strong>按 Symbol 的 Ticker信息</strong></h2>
<p>按Symbol刷新的最近24小时精简 ticker 信息</p>

<blockquote>
<p>Send</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code> {"op":"SUB","channel":["4@ticker"],"id":1}
</code></pre></div>
<blockquote>
<p>Receive</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>{
  "instrumentId": 88066,
  "symbol": "USDTBTC",      // 交易对
  "open": "0.0010",      // 整整24小时前，向后数的第一次成交价格
  "high": "0.0025",      // 24小时内最高成交价
  "low": "0.0010",      // 24小时内最低成交加
  "close": "0.0025",      // 最新成交价格
  "volume": "10000",       // 24小时内成交量
  "amount": "18"          // 24小时内成交额
}
</code></pre></div><h3 id='stream'>Stream 名称</h3>
<p><code>&lt;symbol&gt;@ticker</code>, eg:  <code>88066@ticker</code></p>
<h2 id='b98f66bf84'><strong>深度信息</strong></h2>
<p>每秒或每100毫秒推送有限档深度信息。</p>

<blockquote>
<p>Send</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code> {"op":"SUB","channel":["4@depth@20"],"id":1}
</code></pre></div>
<blockquote>
<p>Receive</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>{
  "level": 5,
  "instrumentId": 88066,
  "symbol": "BTCUSDT"
  "b": [             // Bids to be updated
    [
      "0.0024",         // Price level to be updated
      "10"              // Quantity
    ]
  ],
  "a": [             // Asks to be updated
    [
      "0.0026",         // Price level to be updated
      "100"            // Quantity
    ]
  ]
}
</code></pre></div><h3 id='stream-names'>Stream Names</h3>
<p><code>&lt;symbol&gt;@depth@&lt;levels&gt;</code> </p>

<p>eg:  <code>4@depth@50</code></p>
<h3 id='levels'>levels 可选值</h3>
<p>levels表示几档买卖单信息, 可选 5/10/20/50/100档</p>
<h1 id='e08c1d4f9a'>错误码</h1><h3 id='33c0874e49'>错误码:</h3>
<table><thead>
<tr>
<th>Code</th>
<th>Comment</th>
</tr>
</thead><tbody>
<tr>
<td>signature-failed 401</td>
<td>主账号冻结子账号登录权限</td>
</tr>
<tr>
<td>signature-failed 401</td>
<td>子账号被删除</td>
</tr>
<tr>
<td>signature-failed 401</td>
<td>Api key 错误</td>
</tr>
<tr>
<td>unauthorized 1401</td>
<td>请求ip不在IP白名单中</td>
</tr>
<tr>
<td>unauthorized 1401</td>
<td>签名失败</td>
</tr>
<tr>
<td>unauthorized 1401</td>
<td>用户登录 Token 失效</td>
</tr>
<tr>
<td>signature error 3005</td>
<td>签名生成错误</td>
</tr>
<tr>
<td>symbol not found 3011</td>
<td>该币对没有上线</td>
</tr>
<tr>
<td>part-trade-limit 3012</td>
<td>您已被限制交易当前现货币对，如有疑问请咨询客服，给您造成不便敬请谅解。</td>
</tr>
<tr>
<td>trade-limit 3013</td>
<td>您暂时不具备币币交易资质，如有疑问请咨询客服，给您造成不便敬请谅解。</td>
</tr>
<tr>
<td>user-trade-limit 3014</td>
<td>当前子账号暂时不具备币币交易资质</td>
</tr>
<tr>
<td>user-part-trade-limit 3015</td>
<td>当前子账号已被限制交易当前现货币对</td>
</tr>
<tr>
<td>account-insufficient 3113</td>
<td>账户余额不足</td>
</tr>
<tr>
<td>duplicate-order 3111</td>
<td>重复订单</td>
</tr>
<tr>
<td>order-not-found 3103</td>
<td>订单未找到或者该订单不属于当前账号</td>
</tr>
<tr>
<td>sub-user-operator-business-error 6001</td>
<td>子账号不允许参与该业务</td>
</tr>
</tbody></table>
<h2 id='42702c21cd'><strong>字典</strong></h2><h3 id='orderstate'>OrderState</h3>
<ul>
<li>REJECTED</li>
<li>SUBMITTING</li>
<li>SUBMITTED</li>
<li>PARTIAL_FILLED</li>
<li>CANCELING</li>
<li>CANCELED</li>
<li>EXPIRED</li>
<li>STOPPED</li>
<li>FILLED</li>
</ul>
<h3 id='ordertype'>OrderType</h3>
<ul>
<li>MARKET </li>
<li>LIMIT </li>
<li>POST_ONLY</li>
</ul>
<h3 id='timeinforce'>TimeInForce</h3>
<ul>
<li>IOC</li>
<li>GTC</li>
</ul>
<h3 id='matchrole'>MatchRole</h3>
<ul>
<li>TAKER</li>
<li>MAKER</li>
</ul>
<h3 id='side'>Side</h3>
<ul>
<li>BUY</li>
<li>SELL</li>
</ul>

      </div>
      <div class="dark-box">
      </div>
    </div>
  </body>
</html>
